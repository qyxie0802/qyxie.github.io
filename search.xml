<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>搭建Hexo博客(一)：手机(Termux) + 内网穿透(Sunny-Ngrok)</title>
    <url>/2021/07/28/21072801/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820132342.png" alt="image-20210820132342590"></p>
<span id="more"></span>

<p>PS：当初觉得网站需要24h运行服务，电脑总不能24开机，手机可以（其实是可以部署静态文件的），所以用手机搭建。</p>
<p>手机好处就是小巧，随身携带，走到哪只要内网电脑ssh手机就可以随时随地对博客网站进行编辑。但是手机写博客体验非常差，几乎没人这么干。</p>
<p>以下教程仅基于手机termux/linux部署，使用windows部署，自己百度撒。</p>
<p><strong>Termux</strong> 是运行在 Android 上的 terminal终端模拟器。极致模拟Linux，也是一款强大的手机开发生产工具，但我之前一直当个ping小工具。</p>
<h3 id="Termux下载"><a href="#Termux下载" class="headerlink" title="Termux下载"></a>Termux下载</h3><p><a href="https://f-droid.org/packages/com.termux/">F-Droid 下载地址</a></p>
<p><a href="https://www.coolapk.com/apk/com.termux">酷安 下载地址</a></p>
<p> <strong><a href="https://www.sqlsec.com/2018/05/termux.html">Termux 高级终端安装使用配置教程</a>国内已知最详细的termux教程，非常值得阅读！！！墙裂推荐。</strong></p>
<h3 id="安装后换源"><a href="#安装后换源" class="headerlink" title="安装后换源"></a>安装后换源</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sed -i &#x27;s@^\(deb.*stable main\)$@#\1\ndeb ![img](file:///C:\Users\xieqingyuan\AppData\Roaming\Tencent\QQTempSys\%W@GJ$ACOF(TYDYECOKVDYB.png)https://mirrors.bfsu.edu.cn/termux/termux-packages-24 stable main@&#x27; $PREFIX/etc/apt/sources.list &amp;&amp;sed -i &#x27;s@^\(deb.*games stable\)$@#\1\ndeb ![img](file:///C:\Users\xieqingyuan\AppData\Roaming\Tencent\QQTempSys\%W@GJ$ACOF(TYDYECOKVDYB.png)https://mirrors.bfsu.edu.cn/termux/game-packages-24 games stable@&#x27; $PREFIX/etc/apt/sources.list.d/game.list &amp;&amp;sed -i &#x27;s@^\(deb.*science stable\)$@#\1\ndeb ![img](file:///C:\Users\xieqingyuan\AppData\Roaming\Tencent\QQTempSys\%W@GJ$ACOF(TYDYECOKVDYB.png)https://mirrors.bfsu.edu.cn/termux/science-packages-24 science stable@&#x27; $PREFIX/etc/apt/sources.list.d/science.list &amp;&amp;apt update &amp;&amp; apt upgrade</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145218.png" alt="20210801133736"></p>
<p><strong>Hexo</strong> 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<h3 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pkg install nodejs</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145258.png" alt="20210801133813"></p>
<h3 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145435.png" alt="20210801133900"></p>
<p>​            </p>
<h3 id="新建一个博客网站"><a href="#新建一个博客网站" class="headerlink" title="新建一个博客网站"></a>新建一个博客网站</h3><p>命名随意，blog</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo init blog</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145349.png" alt="20210801133818"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd blog</span><br></pre></td></tr></table></figure>

<p>进入博客网站目录</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo g </span><br></pre></td></tr></table></figure>

<p>生成静态文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo s </span><br></pre></td></tr></table></figure>

<p>启动服务。默认情况下，访问网址为：<a href="http://localhost:4000/">http://localhost:4000/</a>  或者局域网内访问本机4000端口。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145557.png" alt="image-20210801145557639"></p>
<p>至此博客网站搭建完成。但只能本机/局域网内访问显然不合适。<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145621.png" alt="20210801133945"></p>
<h5 id="内网穿透可以让在内网的节点主动访问一个拥有公网IP地址的服务器，并由中间服务器搭桥，打通经过该服务器从其他主机到NAT之后节点的隧道。"><a href="#内网穿透可以让在内网的节点主动访问一个拥有公网IP地址的服务器，并由中间服务器搭桥，打通经过该服务器从其他主机到NAT之后节点的隧道。" class="headerlink" title="内网穿透可以让在内网的节点主动访问一个拥有公网IP地址的服务器，并由中间服务器搭桥，打通经过该服务器从其他主机到NAT之后节点的隧道。"></a>内网穿透可以让在内网的节点主动访问一个拥有公网IP地址的服务器，并由中间服务器搭桥，打通经过该服务器从其他主机到NAT之后节点的隧道。</h5><p><a href="http://ngrok.cc/">Sunny-Ngrok内网转发 - 国内内网映射服务器</a></p>
<h3 id="注册开通免费隧道"><a href="#注册开通免费隧道" class="headerlink" title="注册开通免费隧道"></a>注册开通免费隧道</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145631.png" alt="20210801133959"></p>
<p>隧道协议选http或https<br>隧道名称随便填<br>前置域名输入你想要的前置域名<br>本地端口填<strong>127.0.0.1:4000</strong><br>其他都不用填<br>然后直接确认添加</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145642.png" alt="20210801134012"></p>
<p>完成订单 <strong>隧道id</strong>复制下 有用</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145929.png" alt="image-20210801145929348"></p>
<h3 id="隧道映射"><a href="#隧道映射" class="headerlink" title="隧道映射"></a>隧道映射</h3><p>下载客户端python版本解压之后只需要执行一下sunny.py脚本输入隧道id。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145952.png" alt="20210801134044"></p>
<p>这里可能会遇到两个问题 </p>
<ul>
<li>python没有安装</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pkg install python</span><br></pre></td></tr></table></figure>



<ul>
<li>找不到解压后的sunny.py的路径运行</li>
</ul>
<p>有点难搞，也能搞。下载手机安卓app <em><strong><u>qpython</u></strong></em> 。选择文件，解压后的sunny.py运行，输入隧道id。不做演示了</p>
<p><em>访问：<a href="http://xieqingyuan.free.idcfengye.com/">http://xieqingyuan.free.idcfengye.com</a></em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150008.png" alt="20210801134108"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150019.png" alt="20210801134140">实现了外网访问。</p>
<p>那么问题来了，python脚本和hexo服务都不能停，这样真的方便吗？？？不方便！！！</p>
<p>预知后事如何，且听下回分解（Hexo+github搭建博客）</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>Termux</tag>
        <tag>内网穿透</tag>
      </tags>
  </entry>
  <entry>
    <title>搭建Hexo博客(二)：Hexo+github搭建博客</title>
    <url>/2021/07/30/21073001/</url>
    <content><![CDATA[<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807140501.jpeg" alt="Hexo+github" style="zoom:150%;" />



<span id="more"></span>



<p>书接上回，接下来要将hexo生成的静态文件上传到github，实现本地无需运行服务，打造个人博客网站。</p>
<h3 id="本地安装git"><a href="#本地安装git" class="headerlink" title="本地安装git"></a>本地安装git</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pkg install git</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150044.png" alt="20210801134206"></p>
<h3 id="配置用户名和邮箱"><a href="#配置用户名和邮箱" class="headerlink" title="配置用户名和邮箱"></a>配置用户名和邮箱</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;github 用户名&quot;</span><br><span class="line"></span><br><span class="line">git config --global user.email &quot;github 注册邮箱&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150052.png" alt="20210801134215"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150057.png" alt="20210801134223"></p>
<h3 id="在本地创建ssh-key"><a href="#在本地创建ssh-key" class="headerlink" title="在本地创建ssh key"></a>在本地创建ssh key</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150105.png" alt="20210801134234"></p>
<p>默认回车</p>
<p>执行上述命令之后，会在<code>~/.ssh</code>目录生成 id_rsa 和 id_rsa.pub 两个文件，前者是我们私有的，而后者则是对外开放的。接着 id_rsa.pub 密钥，将内容复制；</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150112.png" alt="20210801134252"></p>
<h3 id="注册github账户以及Add-SSH-Key"><a href="#注册github账户以及Add-SSH-Key" class="headerlink" title="注册github账户以及Add SSH Key"></a>注册github账户以及Add SSH Key</h3><p>打开GitHub-Settings-Keys页面，创建一个新的 SSH key，填写 Title 和 Key，Title 可以随意，而 Key 的内容则是我们刚才复制的 id_rsa.pub 中的内容，最后点击 Add SSH key 即可；</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150123.png" alt="20210801134304"></p>
<h3 id="新建仓库"><a href="#新建仓库" class="headerlink" title="新建仓库"></a>新建仓库</h3><p>确保你的仓库是 public，你要搞个 private，就没人能访问了。同时，<strong>仓库名一定要是：用户名.github.io！！！仓库名一定要是：用户名.github.io！！！仓库名一定要是：用户名.github.io</strong>！！！</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150142.png" alt="20210801134310"></p>
<p>接下来就是推送网站到 Github Pages 了，然后我们就能被其他人访问了。</p>
<h3 id="本地配置远端推送"><a href="#本地配置远端推送" class="headerlink" title="本地配置远端推送"></a>本地配置远端推送</h3><p>只需要博客根目录中的站点配置文件 <code>_config.yml</code> ，设置为你的个人仓库名即可。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150228.png" alt="20210801134321"></p>
<p>vi编辑器命令模式下输入<code>/deploy</code>定位，找到远程部署设置代码修改。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150234.png" alt="20210801134326"></p>
<p>保存退出</p>
<p><code>hexo g</code> 生成静态文件</p>
<p><code>Hexo d</code> 将本地生成的静态文件推送到GitHub仓库</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150244.png" alt="20210801134331"></p>
<p>github仓库中就可以看到推送过来的文件了</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150314.png" alt="image-20210801150314039"></p>
<p>然后在浏览器中访问：</p>
<p>https://用户名.github.io</p>
<p>推送的是静态文件所以本地hexo服务不用运行，每次写完博客只要<code>hexo g</code>,<code>hexo d</code> 就行。还能外网访问。nice</p>
<p>但是，github服务器在国外，DNS污染，github.io加载非常慢甚至有时候访问不了<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150340.png" alt="20210801134345">可以通过修改<code>C:\Windows\System32\drivers\etc\hosts</code>文件加快访问速度，但博客是给别人看的，不合适！！！</p>
<p>当然也可以使用Gitee “中国github” /doge ，但是有更好的解决办法。</p>
<p>欲知后事如何，且听下回分解（用宝塔面板将Hexo部署到阿里云）</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>Termux</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>搭建Hexo博客(三)：用宝塔面板将Hexo部署到阿里云</title>
    <url>/2021/07/31/21073101/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820132539.png" alt="image-20210820132539510"></p>
<span id="more"></span>

<p>书接上回，github服务器在国外，而且DNS污染严重，于是我斥“巨资”<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155455.gif">在阿里云买了轻量应用服务器和域名，打算将博客网站挂到阿里云服务器下。</p>
<h3 id="购买服务器域名"><a href="#购买服务器域名" class="headerlink" title="购买服务器域名"></a>购买服务器域名</h3><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155923.jpg" alt="qq_pic_merged_1627804751843" style="zoom:50%;" />

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801160638.png" alt="image-20210801160637948"></p>
<p>配置有点捞，但是挂网站绰绰有余<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155503.gif" alt="img"></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>查看公网IP，设置密码</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801183119.png" alt="image-20210801183119470" style="zoom:50%;" />

<p>登录</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh user@host 如：ssh root@192.168.0.104</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801161305.png" alt="image-20210801161305383"></p>
<h3 id="git配置"><a href="#git配置" class="headerlink" title="git配置"></a>git配置</h3><ol>
<li><strong>安装git</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install git</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>配置 git 仓库</strong></li>
</ol>
<p>在root用户下输入</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">useradd git <span class="comment"># 创建用户git</span></span><br><span class="line">passwd git <span class="comment"># 为用户git设置密码</span></span><br><span class="line">chmod <span class="number">740</span> /etc/sudoers  <span class="comment"># 修改文件权限</span></span><br><span class="line">vim /etc/sudoers</span><br><span class="line"> <span class="comment"># 找到           root ALL=(ALL)  ALL</span></span><br><span class="line"> <span class="comment"># 在下面添加一行   git  ALL=(ALL)  ALL</span></span><br><span class="line"> <span class="comment"># 输入:wq即可保存并退出编辑</span></span><br><span class="line">chmod <span class="number">400</span> /etc/sudoers</span><br></pre></td></tr></table></figure>

<p>切换git用户</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">su git   <span class="comment"># 切换到git用户,这步最关键</span></span><br><span class="line">sudo mkdir  -p  /www/wwwroot/blog  <span class="comment"># 把博客目录放在宝塔网站的根目录下</span></span><br><span class="line">cd /home/git</span><br><span class="line">mkdir repos</span><br><span class="line">cd repos</span><br><span class="line">git init --bare blog.git  <span class="comment"># 创建一个裸库blog.git</span></span><br><span class="line">cd blog.git/hooks</span><br><span class="line">vim post-receive</span><br></pre></td></tr></table></figure>

<p>输入以下代码，保存退出</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line">git --work-tree=/www/wwwroot/blog --git-<span class="built_in">dir</span>=/home/git/repos/blog.git checkout -f</span><br></pre></td></tr></table></figure>

<p>修改权限</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">chmod +x post-receive</span><br><span class="line">exit   <span class="comment">#回到root用户</span></span><br><span class="line">chown -R git:git /home/git/repos/blog.git <span class="comment">#赋予git用户可操作仓库blog.git的权限</span></span><br><span class="line"></span><br><span class="line">chown -R git:git /www/wwwroot/blog <span class="comment">#赋予git用户可操作仓库blog.git的权限</span></span><br></pre></td></tr></table></figure>



<h3 id="免密登录配置"><a href="#免密登录配置" class="headerlink" title="免密登录配置"></a>免密登录配置</h3><p>之前推送到github配置过，只要复制公钥到阿里云服务器了就行了。</p>
<ol>
<li><strong>在本地Termux创建ssh key</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150105.png" alt="20210801134234"></p>
<p>默认回车</p>
<p>执行上述命令之后，会在<code>~/.ssh</code>目录生成 id_rsa 和 id_rsa.pub 两个文件，前者是我们私有的，而后者则是对外开放的。</p>
<p>​    </p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150112.png" alt="20210801134252"></p>
<p>windows命令一样，路径如下:</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801170439.png" alt="image-20210801170439598" style="zoom:50%;" />





<ol start="2">
<li><p><strong>将公钥添加到阿里云服务器authorized_keys文件中</strong></p>
<p>git用户下输入</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir ~/.ssh</span><br><span class="line">vim ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>

<p>怎么添加属实八仙过海各显神通</p>
<ul>
<li>复制粘贴，退出保存。容易出错，我第一次弄的时候就死活不能免密，调试了一个多小时，重来一遍才成功。</li>
</ul>
<ul>
<li>传输文件，再改名/写入</li>
</ul>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801165416.png" alt="image-20210801165416555"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801180204.png" alt="image-20210801180204879"></p>
<ul>
<li>用ssh-copy-id将公钥复制到服务器</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-copy-id -i .ssh/id_rsa.pub root@xxx.xxx.xxx.xxx</span><br></pre></td></tr></table></figure>

<p><strong>注意:</strong> ssh-copy-id <strong>将key写到远程机器的 ~/</strong> .ssh/authorized_key.文件中</p>
<h3 id="安装宝塔面板"><a href="#安装宝塔面板" class="headerlink" title="安装宝塔面板"></a>安装宝塔面板</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6<span class="number">.0</span>.sh &amp;&amp; sh install.sh</span><br></pre></td></tr></table></figure>

<p>安装完成记录下宝塔面板地址、用户名、密码。或者bt查看</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801162449.png" alt="image-20210801162449399"></p>
<h3 id="服务器防火墙设置"><a href="#服务器防火墙设置" class="headerlink" title="服务器防火墙设置"></a>服务器防火墙设置</h3><p>放行8888端口  登录不了的话就设置下这个  有的叫安全组</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801181550.png" alt="image-20210801181550802" style="zoom:50%;" />



<h3 id="登录宝塔面板"><a href="#登录宝塔面板" class="headerlink" title="登录宝塔面板"></a>登录宝塔面板</h3><p>输入账号密码，环境安装方式：<strong>极速安装</strong>     一键安装</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801181815.png" alt="image-20210801181815072" style="zoom:50%;" />



<h3 id="网站配置"><a href="#网站配置" class="headerlink" title="网站配置"></a>网站配置</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801182112.png" alt="image-20210801182112159"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801182430.png" alt="image-20210801182430055"></p>
<h3 id="本地HEXO-配置文件设置"><a href="#本地HEXO-配置文件设置" class="headerlink" title="本地HEXO 配置文件设置"></a>本地HEXO 配置文件设置</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801182706.png" alt="image-20210801182706566"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801182930.png" alt="image-20210801182930807"></p>
<h3 id="测试上传"><a href="#测试上传" class="headerlink" title="测试上传"></a>测试上传</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801183525.png" alt="image-20210801183525559"></p>
<p>最后在浏览器输入地址 查看效果即可。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155448.gif" alt="img"></p>
<p>建站完成，过程坎坷，一波三折。建议跳过前两步，直接部署到服务器！</p>
<p>下期教大家如何美化自己的Hexo博客。</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>Termux</tag>
        <tag>aliyun</tag>
        <tag>宝塔</tag>
      </tags>
  </entry>
  <entry>
    <title>PicGo + 阿里云对象存储OSS搭建个人图床</title>
    <url>/2021/08/01/21080101/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807141727.jpg" alt="aliyunOSS"></p>
<span id="more"></span>

<p><em><strong>图床</strong></em>，就是指储存图片的服务器。</p>
<p>网上搜索一下，会发现有很多免费的图床，但长时间怕丢图，或者人家跑路了，整个网站的图片都GG。所以还是要搭建属于自己的图床。</p>
<p><em><strong>图床工具</strong></em>，就是自动把本地图片转换成链接的一款工具，网络上有很多图床工具，就目前使用种类而言，PicGo 算得上一款比较优秀的图床工具。它是一款用 <code>Electron-vue</code> 开发的软件，可以支持微博，七牛云，腾讯云COS，又拍云，GitHub，阿里云OSS，SM.MS，imgur 等8种常用图床，功能强大，简单易用。</p>
<h3 id="下载PicGo"><a href="#下载PicGo" class="headerlink" title="下载PicGo"></a>下载PicGo</h3><p><a href="https://github.com/Molunerfinn/PicGo/releases">PicGo下载地址</a></p>
<p><em>mac</em> 系统选择 .<em>dmg</em> 下载，<em>windwos</em> 选择 <em>.exe</em>系统</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801202854.png" alt="image-20210801202853961" style="zoom: 67%;" />



<h3 id="安装PicGo"><a href="#安装PicGo" class="headerlink" title="安装PicGo"></a>安装PicGo</h3><p>安装完成后在右下角，我一直打不开以为安装没成功，又卸载重装了一遍才发现在右下角<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155405.jpg" alt="img"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801203029.png" alt="image-20210801203029160"></p>
<p>一开始用Github仓库存储图片，但还是那个问题，github服务器在国外，不做加速处理，图片加载慢，甚至加载不出来。配置过程讲个大概就行。</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801203912.png" alt="QQ截图20210801142842" style="zoom:50%;" />





<p><strong>新建一个仓库</strong></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801204908.png" alt="image-20210801204908692"></p>
<p>个人中心，<em>Settings</em>-&gt; <em>Developer settings</em> -&gt;  <em>Personal access tokens</em>，我们在这里创建需要的 <em>token</em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801204725.png" alt="image-20210801204725223"></p>
<p>生成一个 <em>token</em> ，复制保存到其他地方，这个 <em>token</em> 只显示一次。</p>
<p>打开PicGo -&gt;  图床设置 -&gt;  github图床</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801204500.png" alt="image-20210801204500664"></p>
<p>俗话说的好，免费的就没好东西<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155509.gif" alt="img">Gitee也行，虽然是国内的，但是据说仓库的容量有上限（好像是1个G)，并且图片的大小超过1M 就需要登录才能显示，否则看不见。</p>
<p>这种事可以花点钱嘛~花不了多少钱。40G的容量一年才9块钱，外网流出流量 00:00-08:00（闲时）：0.25元/GB \ 8:00-24:00（忙时）：0.50元/GB   完全可以抹零。</p>
<h3 id="开通并创建阿里云对象存储OSS"><a href="#开通并创建阿里云对象存储OSS" class="headerlink" title="开通并创建阿里云对象存储OSS"></a>开通并创建阿里云对象存储OSS</h3><ol>
<li><p><strong>登录<a href="https://www.aliyun.com/">阿里云</a></strong></p>
</li>
<li><p><strong>搜索对象存储 OSS</strong></p>
</li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801211006.png" alt="image-20210801211006780"></p>
<ol start="3">
<li><strong>购买OSS资源包</strong></li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801211306.png" alt="image-20210801211306142"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801211453.png" alt="image-20210801211453531"></p>
<ol start="4">
<li><p><strong>创建Bucket</strong></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801212005.png" alt="image-20210801212005690"></p>
</li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801212314.png" alt="image-20210801212314421"></p>
<ol start="5">
<li><strong>新建目录</strong></li>
</ol>
<p>对象存储/Bucket 列表/qyxie-blog/文件管理</p>
<p>推荐目录名为：<code>img/</code>目录名后要加一个<code>/</code></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801212706.png" alt="image-20210801212706425"></p>
<h3 id="配置AccessKey"><a href="#配置AccessKey" class="headerlink" title="配置AccessKey"></a>配置AccessKey</h3><ol>
<li><strong>找到右上角的头像 - AccessKey管理</strong></li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801213136.png" alt="image-20210801213136841"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801213200.png" alt="image-20210801213200840"></p>
<ol start="2">
<li><strong>创建AccessKey</strong></li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801213218.png" alt="image-20210801213218688"></p>
<ol start="3">
<li><strong>保存AccessKey ID 和AccessKey Secret</strong></li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801213430.png" alt="image-20200812145115691"></p>
<ol start="4">
<li><p><strong>记下存储空间名和存储区域</strong></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801213917.png" alt="image-20210801213917839"></p>
</li>
</ol>
<h3 id="PicGo设置"><a href="#PicGo设置" class="headerlink" title="PicGo设置"></a>PicGo设置</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801214043.png" alt="image-20210801214043035"></p>
<p>好了，使用起来也是非常的方便快捷呢。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155448.gif" alt="img"></p>
<h3 id="Tips：设置防盗链"><a href="#Tips：设置防盗链" class="headerlink" title="Tips：设置防盗链"></a>Tips：设置防盗链</h3><p>防盗链，就是防止别人盗取你的图片。怕有居心不良的人用我们资源拿去在他们网站展示，消费的是我们的流量，为了解决这种问题，才会有防盗链这个思路。</p>
<p>存储对象 -&gt;  权限管理 -&gt; 防盗链</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801220136.png" alt="image-20210801220136432"></p>
<p>但这也将导致编辑博客时<code>Typora</code>本地无法预览图片，暂时不知道如何解决，酌情使用。<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155518.gif" alt="img"></p>
<p>搭建个人图床主要目的还是写博客快捷高效，博客中的图片一般都采用网络图片，采用本地图片有一些路径的问题，而且上传文章时图片也要打包上传，非常不好用。<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155503.gif" alt="img"></p>
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>aliyun</tag>
        <tag>PicGo</tag>
        <tag>OSS</tag>
      </tags>
  </entry>
  <entry>
    <title>如何优雅写博客</title>
    <url>/2021/08/07/21080701/</url>
    <content><![CDATA[<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807141834.jpg" alt="Typora" style="zoom:150%;" />

<span id="more"></span>

<p><strong>Markdown</strong>是一种轻量级标记语言，创始人为约翰·格鲁伯（英语：John Gruber）。 它允许人们使用易读易写的纯文本格式，然后转换成有效的XHTML（或者HTML）文档。这种语言吸收了很多在电子邮件中已有的纯文本标记的特性。<em>——百度百科</em></p>
<p>Hexo 使用 <strong>Markdown</strong>(或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<p>工欲善其事必先利其器，用Hexo写博客不可能每次都</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo new &quot;My New Post&quot;</span><br></pre></td></tr></table></figure>

<p>然后用记事本或者vi编辑器去写文章中。效率非常低，而且图片插入是个难点。需要一个 高效好用的<strong>Markdown 文本编辑器</strong>。</p>
<h2 id="Typora-是什么？"><a href="#Typora-是什么？" class="headerlink" title="Typora 是什么？"></a>Typora 是什么？</h2><p>Typora 是一款<strong>支持实时预览的 Markdown 文本编辑器</strong>。它有 OS X、Windows、Linux 三个平台的版本，完全免费的。<a href="https://typora.io/">Typora 官网</a> 上他们将 Typora 描述为 「A truly <strong>minimal</strong> markdown editor. 」。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807142738.png" alt="img"></p>
<h4 id="极致简洁"><a href="#极致简洁" class="headerlink" title="极致简洁"></a>极致简洁</h4><p>打开Typora，你会发现它的界面非常简洁，几乎没有任何按钮，只在上方有一排功能键，右下角是字数统计，其余强大的功能都被藏在后台。且按下F11进入全屏状态，你的世界里就只有文字。</p>
<h4 id="实时预览"><a href="#实时预览" class="headerlink" title="实时预览"></a>实时预览</h4><p>般Markdown 编辑器界面都是两个窗口，左边是Markdown 源码，右边是效果预览。有时一边写源码，一边看效果，确实有点不便。但是使用<strong>Typora</strong> 可以实时的看到渲染效果，而且是在同一个界面，所见即所得。</p>
<h4 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h4><p><strong>Typora</strong> 对几乎所有Markdown 语法都提供了快捷操作，通过菜单栏的<code>段落</code> 和<code>格式</code> 中的功能可以快速设置标记语法，一些常用的操作都有快捷键，用起来非常高效。</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807145046.png" alt="image-20210807145046432" style="zoom:50%;" />

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807145129.png" alt="image-20210807145129861"></p>
<h4 id="图片插入"><a href="#图片插入" class="headerlink" title="图片插入"></a>图片插入</h4><p>Typora 的图片插入功能是广受好评的。要知道，Markdown 原生不太注重图片插入的功能，但你在 Typora 中：</p>
<ul>
<li><p>可以直接将网络图片、剪贴板图片复制到文档中</p>
</li>
<li><p>可以拖动本地图片到文档中</p>
</li>
<li><p><a href="https://www.qyxie.top/2021/08/01/21080101/#more">配合PicGo个人图床</a>  <!--PicGo + 阿里云对象存储OSS搭建个人图床教程--></p>
<p><code>文件</code>-&gt;<code>偏好设置</code>-&gt;<code>图像</code></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807143933.png" alt="image-20210807143933250"></p>
</li>
</ul>
<p>Typora 会自动帮你插入符合 Markdown 语法的图片语句，并给它加上标题。</p>
<p>Typora和PicGo几乎绑定，写博客才能快捷高效，博客中的图片一般都采用网络图片，采用本地图片有一些路径的问题，而且上传文章时图片也要打包上传，非常不好用。<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155503.gif" alt="img"></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>PicGo</tag>
        <tag>Markdown</tag>
        <tag>Typora</tag>
      </tags>
  </entry>
  <entry>
    <title>获取网站的Favicon图标的API接口</title>
    <url>/2021/08/08/21080801/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820133021.png" alt="image-20210820133021076"></p>
<span id="more"></span>

<p>每个网站都应该会有一个favicon图片，就是显示在浏览器标题栏上面的小图标，当打开网页或将网页加入收藏时都会显示这个图标。举个例子：<img src="http://api.qyxie.top/getFavicon/www.baidu.com.png" alt="img"></p>
<p>目前获取网站的Favicon图标并显示在你的网页上这个小功能还是很火的。友情链接，导航站点用的很多。</p>
<p>最近在搭建<a href="https://nav.qyxie.top/">个人导航站点</a>就需要这个小功能，原本用的是谷歌提供的接口，但兼容性不是很好呢，甚至get百度返回的都是默认图标，而且都是（16x16）低像素的，非常的不好用。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://www.google.cn/s2/favicons?domain=https://www.baidu.com/</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808225552.png" alt="image-20210808225552577"></p>
<p>网上也有很多别人搭建的接口，缺点就是不稳定，人家要是跑路了，就GG。</p>
<p>项目开源，刚好也有自己的服务器，不如自己动手丰衣足食。</p>
<p><a href="https://github.com/owen0o0/getFavicon">项目地址</a></p>
<p><em><strong>打开宝塔面板-&gt;添加站点</strong></em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808230550.png" alt="img"></p>
<p><em><strong>下载程序到网站目录</strong></em></p>
<p>下载地址：<a href="https://github.com/owen0o0/getFavicon/archive/master.zip">https://github.com/owen0o0/getFavicon/archive/master.zip</a></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808230746.png" alt="img"></p>
<p><em><strong>解压缩</strong></em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808231044.png" alt="image-20210808231044452"></p>
<p><em><strong>域名添加解析</strong></em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808234346.png" alt="img"></p>
<p>就是这么简单，之后，我们测试效果，打开网站形式如：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://api.qyxie.top/getFavicon/get.php?url=https://www.baidu.com</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808231342.png" alt="image-20210808231342711"></p>
<p>有问题的话试试：cache 文件夹给 755 权限。</p>
<p>直接使用API虽然可以获取 favicon图标，但是这个是动态地址，不方便CDN缓存，建议将其伪静态，具体规则如下:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Nginx规则</span><br><span class="line">rewrite ^/getFavicon/(.*)\.png$ /getFavicon/get.php?url=$1;</span><br><span class="line"></span><br><span class="line"># Apache规则</span><br><span class="line">&lt;IfModule mod_rewrite.c&gt;</span><br><span class="line">RewriteEngine On</span><br><span class="line">RewriteRule ^getFavicon/(.*)\.png$ getFavicon/get.php?url=$1 [L]</span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure>



<p>如果你跟我一样使用的是Nginx和宝塔面板，<em>站点-&gt;设置-&gt;伪静态</em>，添加Nginx规则并保存即可。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808232158.png" alt="image-20210808232158331"></p>
<p>完成了伪静态规则设置之后，获取网站Favicon图标API接口就变为:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://api.qyxie.top/getFavicon/www.baidu.com.png</span><br></pre></td></tr></table></figure>



<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808233533.png" alt="image-20210808233533337"></p>
<p><em>tips： .png结尾，前面不用加http(s)!!!</em></p>
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>API</tag>
        <tag>favicon</tag>
      </tags>
  </entry>
  <entry>
    <title>简易的随机图片API接口</title>
    <url>/2021/08/14/21081401/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820133039.png" alt="image-20210820133038936"></p>
<span id="more"></span>    



<p><a href="https://nav.qyxie.top/">个人网站导航</a>的首页最开始用的是本地的一张图片，图片每天都是重样的是在是看得心烦意乱，我希望每次访问都能看到不一样的风景。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210814104845.png" alt="image-20210814104844872"></p>
<p>可以用别人的API接口，但是毕竟是别人的，大多图片不能自己选择，而且不稳定。反正有服务器，搭建起来也非常的简单，自己搞一搞。</p>
<p><em><strong>上传文件到图床，获取URL。</strong></em>（没有个人图床的可以用免费图床）</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210814110659.png" alt="image-20210814110659336"></p>
<p><em><strong>打开宝塔面板-&gt;添加站点</strong></em>域名记得解析。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808230550.png" alt="img"></p>
<p><em><strong>新建目录</strong></em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210814111141.png" alt="image-20210814111140943"></p>
<p><em><strong>创建一个<code>tu.php</code>,写入代码。</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//存有美图链接的文件名img.txt</span><br><span class="line">$filename = &quot;img.txt&quot;;</span><br><span class="line">if(!file_exists($filename))&#123;</span><br><span class="line">    die(&#x27;文件不存在&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//从文本获取链接</span><br><span class="line">$pics = [];</span><br><span class="line">$fs = fopen($filename, &quot;r&quot;);</span><br><span class="line">while(!feof($fs))&#123;</span><br><span class="line">    $line=trim(fgets($fs));</span><br><span class="line">    if($line!=&#x27;&#x27;)&#123;</span><br><span class="line">        array_push($pics, $line);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//从数组随机获取链接</span><br><span class="line">$pic = $pics[array_rand($pics)];</span><br><span class="line"></span><br><span class="line">//返回指定格式</span><br><span class="line">$type=$_GET[&#x27;type&#x27;];</span><br><span class="line">switch($type)&#123;</span><br><span class="line"></span><br><span class="line">//JSON返回</span><br><span class="line">case &#x27;json&#x27;:</span><br><span class="line">    header(&#x27;Content-type:text/json&#x27;);</span><br><span class="line">    die(json_encode([&#x27;pic&#x27;=&gt;$pic]));</span><br><span class="line"></span><br><span class="line">default:</span><br><span class="line">    die(header(&quot;Location: $pic&quot;));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



<p><em><strong>创建一个<code>img.txt</code>，写入图片URL。</strong></em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210814114313.png" alt="image-20210814114313221"></p>
<p>随机图片接口 <a href="http://api.qyxie.top/tu/tu.php">http://api.qyxie.top/tu/tu.php</a></p>
<p>好了，在网页源码中调用就行了。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210814115323.png" alt="image-20210814115323334"></p>
<p>具体效果☞<a href="https://nav.qyxie.top/">一个主页，整个世界</a>  F5刷新更换横幅图片。</p>
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>API</tag>
      </tags>
  </entry>
  <entry>
    <title>网站ICP备案与公安备案</title>
    <url>/2021/08/19/21081901/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820135606.png" alt="image-20210820135606772"></p>
<span id="more"></span>

<p>在阿里云，腾讯云等购买国内服务器，如果是用于web访问的话就必须备案后才能使用（无需域名的情况除外）。否则会提示“该网站暂时无法访问”。但如果不需要web访问的话，目前看来是无需备案的。</p>
<p>也可以买国外的服务器，好处是不需要备案，但是一般国内用户访问国外服务器，速度会非常慢，然后访问服务器也时常变的不稳定，这种情况还是选择国内云服务器比较稳妥。</p>
<h3 id="备案是什么？"><a href="#备案是什么？" class="headerlink" title="备案是什么？"></a>备案是什么？</h3><p>所谓备案，就是我们常说的网站备案，备案的全称叫做ICP备案。ICP也就是Internet Content Provider，指的是网络内容服务商 ，即向广大用户综合提供互联网信息业务和增值业务的网络运营商。ICP备案是信息产业部对网站的一种管理，为了防止非法网站。就像是官方认可的网站，就好像开个小门面需要办营业执照一样。</p>
<p>备案的目的就是为了防止在网上从事非法的网站经营活动，打击不良互联网信息的传播。根据中华人民共和国国务院令第291号《中华人民共和国电信条例》、第292号《互联网信息服务管理办法》（简称ICP管理办法），国家对提供互联网信息服务的ICP实行许可证制度。ICP证是网站经营的许可证，根据国家,互联网信息服务管理办法》规定，经营性网站必须办理ICP证，否则就属于非法经营。</p>
<h2 id="备案、域名、服务器之间的关系"><a href="#备案、域名、服务器之间的关系" class="headerlink" title="备案、域名、服务器之间的关系"></a>备案、域名、服务器之间的关系</h2><p>其实网站备案、ICP备案、域名备案、服务器备案本质上指的都是给网站申请ICP备案号。</p>
<ul>
<li>只有域名+没有国内服务器空间=不能备案</li>
<li>没有域名+只有国内服务器空间=不能备案</li>
<li>有域名+有国内服务器空间=可以备案</li>
</ul>
<p>备案是针对服务器空间的，但是备案号是挂在域名上的，可以说备案如果没有空间或者没有域名都备案不了。简单来说，就是完成ICP备案，域名和服务器缺一不可。</p>
<h3 id="找谁办理备案"><a href="#找谁办理备案" class="headerlink" title="找谁办理备案"></a>找谁办理备案</h3><p>备案正常情况下是找服务器/虚拟主机的提供商办理备案，你使用了相关服务商提供的网络服务器，服务商自然会提供相应的备案服务。为了方便备案请尽量保证域名和服务器的提供商一致。如果不是，请保证域名和服务器的实名认证一致。</p>
<h3 id="举个例子："><a href="#举个例子：" class="headerlink" title="举个例子："></a>举个例子：</h3><p>阿里云轻量应用服务器购买时长在3个月及以上（含续费），赠送备案服务号5个。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210819232653.png" alt="image-20210819232653671"></p>
<p><a href="https://help.aliyun.com/knowledge_detail/36922.html?source=5176.11533457&userCode=28kqeewo">首次备案流程-备案-阿里云</a></p>
<p>按照以上流程，阿里云初审用时2天，工信部审核用时9天。（仅供参考）</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210819233527.png" alt="image-20210819233527311"></p>
<p>网站开通后，请在网站首页底部中间位置放置您的ICP备案号并链接至”<a href="https://beian.miit.gov.cn&quot;./">https://beian.miit.gov.cn&quot;。</a> 并在开通之日起30日内登录<a href="http://www.beian.gov.cn/portal/index">全国互联网安全管理平台</a>提交公安联网备案申请。获取《<a href="https://help.aliyun.com/knowledge_detail/36981.html">公安备案信息填写指南</a>》。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210819233627.png" alt="image-20210819233627212"></p>
<h3 id="公安备案"><a href="#公安备案" class="headerlink" title="公安备案"></a>公安备案</h3><p>网站备案是根据国家法律法规需要网站的所有者向国家有关部门申请的备案，公安局备案是其中一种。公安局备案一般按照各地公安机关指定的地点和方式进行，操作流程会比ICP备案流程简单，主要是已登记为主。</p>
<p>公安备案不做后果咱也不是很清楚（ICP备案不做域名直接访问不了），但是每个公民都有配合义务，在条例层面是「必须」遵守。</p>
<p>注册登录<a href="http://www.beian.gov.cn/portal/index">全国互联网安全管理平台</a></p>
<h5 id="开办主体管理，提交审核"><a href="#开办主体管理，提交审核" class="headerlink" title="开办主体管理，提交审核"></a>开办主体管理，提交审核</h5><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210819235154.png" alt="image-20210819235154678"></p>
<p>等待审核通过</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210819235817.png" alt="image-20210819235817040"></p>
<h5 id="新办网站申请，提交审核"><a href="#新办网站申请，提交审核" class="headerlink" title="新办网站申请，提交审核"></a>新办网站申请，提交审核</h5><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210819235855.png" alt="image-20210819235855616"></p>
<p>新办网站申请信息填写参考<a href="https://help.aliyun.com/knowledge_detail/36981.html">阿里云-公安备案信息填写指南</a></p>
<p>公安备案审核时间/流程似乎取决于你当地的公安机关，网警，反正我备案的时候直接在网站上提交资料和照片,不到十天就通过了。但是听说也要求本人到携带身份证到当地公安机关进行备案的。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820000130.png" alt="image-20210820000130624"></p>
<p>​    <img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820000330.png" alt="image-20210820000330671"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820001339.png" alt="image-20210820001339754"></p>
<p>将公安备案编号HTML代码稍作修改，加上ICP备案编号，加上备案编号图标。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">&lt;a href=&quot;https://beian.miit.gov.cn/&quot; style=&quot;display:inline-block;text-decoration:none;height:20px;line-height:20px;&quot;&gt;&lt;p style=&quot;float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;&quot;&gt;闽ICP备2021011133号-1&lt;/p&gt;&lt;/a&gt;</span><br><span class="line">&lt;span class=&quot;post-meta-divider&quot;&gt;|&lt;/span&gt;</span><br><span class="line">&lt;a target=&quot;_blank&quot; href=&quot;http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35052402000312&quot; style=&quot;display:inline-block;text-decoration:none;height:20px;line-height:20px;&quot;&gt;&lt;img src=&quot;https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210805124438.png&quot; style=&quot;float:left;&quot;/&gt;&lt;p style=&quot;float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;&quot;&gt;闽公网安备 35052402000312号&lt;/p&gt;&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>



<p>大家也可以直接复制我的代码，以下几处自行修改。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820001931.png" alt="image-20210820001930929"></p>
<p>打开<code>themes/next/layout/_partials/footer.swig</code></p>
<p>将代码放到合适的位置</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820002328.png" alt="QQ图片20210820002320"></p>
<p>效果展示：</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820002411.png" alt="image-20210820002411893"></p>
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>备案</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2021/07/17/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<span id="more"></span>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hello World</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo之Next主题优化改造</title>
    <url>/2021/08/06/21080601/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820132857.png" alt="image-20210820132857390"></p>
<span id="more"></span>

<p>博客初步搭建完成，但是这个默认的主题实在丑的可以。还好Hexo是可以修改主题的。其中不乏一些非常优秀的主题。</p>
<p><a href="https://www.zhihu.com/question/24422335">知乎：有哪些好看的 Hexo 主题？</a></p>
<p><em>NexT</em>是Hexo的知名第三方主题,黑白极简风格四合一,有相当多的使用者。<em><strong>精于心，简于形</strong></em>标语说的是真的不错。使用NexT主题的人比较多，主题成熟。优化，配置，扩展很多都集成了，比较简单。</p>
<h3 id="启用Next主题"><a href="#启用Next主题" class="headerlink" title="启用Next主题"></a>启用Next主题</h3><ol>
<li><strong>下载Next主题包</strong></li>
</ol>
<p>在<em><strong>博客根目录下</strong></em>安装</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/iissnan/hexo-theme-next.git themes/next</span><br></pre></td></tr></table></figure>

<p>以上代码的意思是从 <a href="https://github.com/iissnan/hexo-theme-next%E5%B0%86next%E4%B8%8B%E8%BD%BD%E5%88%B0%E5%BD%93%E5%89%8D%E5%8D%9A%E5%AE%A2%E6%A0%B9%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84themes%E9%87%8C%E9%9D%A2%E7%9A%84next%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD%E3%80%82">https://github.com/iissnan/hexo-theme-next将next下载到当前博客根目录下的themes里面的next文件夹中。</a></p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806205932.jpg" alt="img" style="zoom:67%;" />



<ol start="2">
<li><strong>修改Next主题</strong></li>
</ol>
<p>我的博客根目录是<code>/hexo</code>,在以下会有两个配置文件。请注意区分。</p>
<p><code>/hexo/_config.yml</code>，为了描述方便，在以下说明中，将称为 <strong>站点配置文件</strong></p>
<p><code>/hexo/themes/next/_config.yml</code>，为了描述方便，在以下说明中，将称为 <strong>主题配置文件</strong></p>
<p>在站点配置文件中搜索theme，由<code>landscape</code>默认主题修改为<code>next</code></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806212527.png" alt="image-20210806212527590"></p>
<p>保存退出。</p>
<p>hexo一键三连</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo clean &amp;&amp; hexo s -g</span><br></pre></td></tr></table></figure>

<p>访问页面，这就是Next的默认页面。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806213203.png" alt="image-20210806213202922"></p>
<p>如果网页报错：</p>
<p><code>“ &#123;% extends ‘_layout.swig‘ %&#125; &#123;% import ‘_macro/post.swig‘ as post_template %&#125;“</code></p>
<p>原因是hexo在5.0之后把swig给删除了需要自己手动安装</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i hexo-renderer-swig </span><br></pre></td></tr></table></figure>



<ol start="3">
<li><strong>选择 Scheme</strong></li>
</ol>
<p>Scheme 是 NexT 提供的一种特性，借助于 Scheme，NexT 为你提供多种不同的外观。同时，几乎所有的配置都可以 在 Scheme 之间共用。目前 NexT 支持三种 Scheme，他们是：</p>
<ul>
<li>Muse - 默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白</li>
<li>Mist - Muse 的紧凑版本，整洁有序的单栏外观</li>
<li>Pisces - 双栏 Scheme，小家碧玉似的清新</li>
<li>Gemini - 左侧网站信息及目录，块+片段结构布局</li>
</ul>
<p>进入<strong>主题配置文件</strong>，搜索Scheme,注释掉默认的，启用你想用的。我用的是<em><strong>Gemini</strong></em>。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806221815.png" alt="image-20210806221815378"></p>
<p>保存退出，重启Hexo服务，修改成功，左侧网站信息及目录，块+片段结构布局。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806221939.png" alt="image-20210806221939223"></p>
<h3 id="站点基本设置"><a href="#站点基本设置" class="headerlink" title="站点基本设置"></a>站点基本设置</h3><p>编辑 <strong>站点配置文件</strong>。Site</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806223619.png" alt="image-20210806223619642"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806224114.png" alt="image-20210806224114858"></p>
<h3 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a>菜单</h3><p>设定菜单内容，对应<strong>主题配置文件</strong>中字段是 <code>menu</code>。 菜单内容的设置格式是：<code>item name: link</code>。其中 <code>item name </code>是一个名称，这个名称并不直接显示在页面上，她将用于匹配图标以及翻译。</p>
<p>NexT 默认的菜单项有：</p>
<table>
<thead>
<tr>
<th align="left">键值</th>
<th align="left">设定值</th>
<th align="left">显示文本（简体中文）</th>
</tr>
</thead>
<tbody><tr>
<td align="left">home</td>
<td align="left"><code>home: /</code></td>
<td align="left">主页</td>
</tr>
<tr>
<td align="left">archives</td>
<td align="left"><code>archives: /archives</code></td>
<td align="left">归档页</td>
</tr>
<tr>
<td align="left">categories</td>
<td align="left"><code>categories: /categories</code></td>
<td align="left">分类页</td>
</tr>
<tr>
<td align="left">tags</td>
<td align="left"><code>tags: /tags</code></td>
<td align="left">标签页</td>
</tr>
<tr>
<td align="left">about</td>
<td align="left"><code>about: /about</code></td>
<td align="left">关于页面</td>
</tr>
<tr>
<td align="left">commonweal</td>
<td align="left"><code>commonweal: /404.html</code></td>
<td align="left">公益 404</td>
</tr>
</tbody></table>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806234521.png" alt="image-20210806234521372"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806231520.png" alt="image-20210806231520743"></p>
<p>光设置菜单，无页面也不能跳转。about这个你是找不到网页的，因为你的文章中没有about这个东西。如果你想要的话，可以执行命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new page about</span><br></pre></td></tr></table></figure>

<p>它就会在根目录下source文件夹中新建了一个about文件夹，以及<code>index.md</code>，在<code>index.md</code>中写上你想要写的东西，就可以在网站上展示出来了。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806232337.png" alt="image-20210806232337570"></p>
<p>加个type属性，要与<code>menu</code>中的菜单项匹配。</p>
<p><strong>注意：</strong>如果有集成评论服务，页面也会带有评论。 若需要关闭的话，请添加字段 <code>comments</code> 并将值设置为 <code>false</code>，如：</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806232732.png" alt="image-20210806232732533"></p>
<p>如法炮制：</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807004317.png" alt="image-20210807004317793"></p>
<p>其中分类，标签，归档自动完成。只要每篇文章开头按照格式书写。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: XXXX</span><br><span class="line">date: XXXX-XX-XX XX:XX:XX</span><br><span class="line">categories: XXXX</span><br><span class="line">tags: [XXXX,XXXX,XXXX]</span><br><span class="line">---</span><br></pre></td></tr></table></figure>



<p>腾讯公益404自行百度代码添加。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807010710.png" alt="image-20210807010710696"></p>
<h3 id="本地搜索"><a href="#本地搜索" class="headerlink" title="本地搜索"></a>本地搜索</h3><p>在你站点的根目录下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<p>打开 <code>站点配置文件</code>,添加配置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure>

<p>打开 <code>themes/next/_config.yml</code> ,搜索关键字 <code>local_search</code> ,设置为 <code>true</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Local search</span><br><span class="line"># Dependencies: https://github.com/flashlab/hexo-generator-search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807030800.png" alt="image-20210807030800335"></p>
<h3 id="Favicon"><a href="#Favicon" class="headerlink" title="Favicon"></a>Favicon</h3><p>默认图标是N，修改<code>主题配置文件</code>，只需要设置small和medium两个就可以：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">favicon:</span><br><span class="line">  small: /images/favicon.ico</span><br><span class="line">  medium: /images/favicon.ico</span><br><span class="line">  apple_touch_icon: /images/apple-touch-icon-next.png</span><br><span class="line">  safari_pinned_tab: /images/logo.svg</span><br></pre></td></tr></table></figure>

<p>支持本地路径图片/网络图片</p>
<h3 id="头像"><a href="#头像" class="headerlink" title="头像"></a>头像</h3><ul>
<li><strong>添加头像</strong></li>
</ul>
<p>编辑 <strong>主题配置文件</strong>， 修改字段 <code>avatar</code>， 值设置成头像的链接地址。其中，头像的链接地址可以是：</p>
<table>
<thead>
<tr>
<th align="left">地址</th>
<th align="left">值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">完整的互联网 URI</td>
<td align="left"><code>http://example.com/avatar.png</code></td>
</tr>
<tr>
<td align="left">站点内的地址</td>
<td align="left">将头像放置主题目录下的 <code>source/uploads/</code> （新建 uploads 目录若不存在） 配置为：<code>avatar: /uploads/avatar.png</code>或者 放置在 <code>source/images/</code> 目录下 配置为：<code>avatar: /images/avatar.png</code></td>
</tr>
</tbody></table>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807015106.png" alt="image-20210807015106481"></p>
<ul>
<li><p><strong>设置头像边框为圆形框</strong></p>
<p>打开位于 <code>themes/next/source/css/_common/components/sidebar/sidebar-author.syl</code> 文件,修改如下:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.site-author-image &#123;</span><br><span class="line">  display: block;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">  padding: $site-author-image-padding;</span><br><span class="line">  max-width: $site-author-image-width;</span><br><span class="line">  height: $site-author-image-height;</span><br><span class="line">  border: $site-author-image-border-width solid $site-author-image-border-color;</span><br><span class="line"> // 修改头像边框</span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  -webkit-border-radius: 50%;</span><br><span class="line">  -moz-border-radius: 50%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>特效：鼠标放置头像上旋转</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.site-author-image &#123;</span><br><span class="line">  display: block;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">  padding: $site-author-image-padding;</span><br><span class="line">  max-width: $site-author-image-width;</span><br><span class="line">  height: $site-author-image-height;</span><br><span class="line">  border: $site-author-image-border-width solid $site-author-image-border-color;</span><br><span class="line"> // 修改头像边框</span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  -webkit-border-radius: 50%;</span><br><span class="line">  -moz-border-radius: 50%;</span><br><span class="line">  // 设置旋转</span><br><span class="line">  transition: 1.4s all;</span><br><span class="line">&#125;</span><br><span class="line">// 可旋转的圆形头像,`hover`动作</span><br><span class="line">.site-author-image:hover &#123;</span><br><span class="line">    -webkit-transform: rotate(360deg);</span><br><span class="line">    -moz-transform: rotate(360deg);</span><br><span class="line">    -ms-transform: rotate(360deg);</span><br><span class="line">    -transform: rotate(360deg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807020148.png" alt="image-20210807020147972"></p>
<h3 id="侧边栏社交链接"><a href="#侧边栏社交链接" class="headerlink" title="侧边栏社交链接"></a>侧边栏社交链接</h3><p>侧栏社交链接的修改包含两个部分，第一是链接，第二是链接图标。 两者配置均在 <strong>主题配置文件</strong> 中。</p>
<ol>
<li><p>链接放置在 <code>social</code> 字段下，一行一个链接。其键值格式是 <code>显示文本: 链接地址</code>。</p>
<p>配置示例</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Social links</span><br><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/your-user-name</span><br><span class="line">  Twitter: https://twitter.com/your-user-name</span><br><span class="line">  微博: http://weibo.com/your-user-name</span><br><span class="line">  豆瓣: http://douban.com/people/your-user-name</span><br><span class="line">  知乎: http://www.zhihu.com/people/your-user-name</span><br><span class="line">  # 等等</span><br></pre></td></tr></table></figure></li>
<li><p>设定链接的图标，对应的字段是 <code>social_icons</code>。匹配键: <a href="http://www.fontawesome.com.cn/">Font Awesome</a> 图标名称（不必带 <code>fa-</code> 前缀）。自行查找更换。 <code>enable</code> 选项用于控制是否显示图标，你可以设置成 <code>false</code> 来去掉图标。</p>
</li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807020010.png" alt="image-20210807020010653"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807020159.png" alt="image-20210807020159112"></p>
<p>​    </p>
<h3 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h3><p>编辑 <strong>主题配置文件</strong> 添加：</p>
<p>友情链接配置示例</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807020349.png" alt="image-20210807020349403"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807024439.png" alt="image-20210807024439190"></p>
<h3 id="网易云音乐插件"><a href="#网易云音乐插件" class="headerlink" title="网易云音乐插件"></a>网易云音乐插件</h3><p>打开网易云网页版，找一首你喜欢的歌。点击生成外链。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807031233.png" alt="image-20210807031232975"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807031259.png" alt="image-20210807031259412"></p>
<p>复制代码，添加到<code>hexo/themes/next/layout/_macro/sidebar.swig</code>中</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807031841.png" alt="image-20210807031841577"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807031913.png" alt="image-20210807031913689"></p>
<h3 id="浏览页面的时候显示当前浏览进度"><a href="#浏览页面的时候显示当前浏览进度" class="headerlink" title="浏览页面的时候显示当前浏览进度"></a>浏览页面的时候显示当前浏览进度</h3><p>打开 <code>主题配置文件</code> ,搜索关键字 <code>scrollpercent</code> ,把 <code>false</code> 改为 <code>true</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Scroll percent label in b2t button</span><br><span class="line">  scrollpercent: true</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807025644.png" alt="image-20210807025644152"></p>
<h3 id="fork-me-on-github"><a href="#fork-me-on-github" class="headerlink" title="fork me on github"></a>fork me on github</h3><p>选择样式<a href="https://github.com/blog/273-github-ribbons">GitHub Ribbons</a>,修改跳转链接为自己的Github地址,复制代码。</p>
<p>打开 <code>themes/next/layout/_layout.swig</code> 文件，把代码复制到<code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code>下面。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807032757.png" alt="image-20210807032757357"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807032825.png" alt="image-20210807032825268"></p>
<h3 id="阅读全文"><a href="#阅读全文" class="headerlink" title="阅读全文"></a>阅读全文</h3><p>方法1. <code>主题配置文件</code>中<code>auto_excerpt</code>字段改为true 。超过150字省略，增加阅读全文按钮。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807034818.png" alt="image-20210807034818000"></p>
<p>方法2. 文章中加入<code>&lt;!-- more --&gt;</code></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807035330.png" alt="image-20210807035330580"></p>
<p>方法2的优先级大于方法1 所以一起使用 效果如下：</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807034537.png" alt="image-20210807034537324"></p>
<h3 id="文章末打赏功能"><a href="#文章末打赏功能" class="headerlink" title="文章末打赏功能"></a>文章末打赏功能</h3><p> 只需要 <strong>主题配置文件</strong> 中填入 微信 和 支付宝 收款二维码图片地址 即可开启该功能。</p>
<p>打赏功能配置示例</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807040656.png" alt="image-20210807040656783"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807040809.png" alt="image-20210807040809147"></p>
<h3 id="数据统计与分析"><a href="#数据统计与分析" class="headerlink" title="数据统计与分析"></a>数据统计与分析</h3><ul>
<li>编辑 <strong>主题配置文件</strong> 中的<code>busuanzi_count</code>的配置项。</li>
</ul>
<p>当<code>enable: true</code>时，代表开启全局开关。若<code>site_uv</code>、<code>site_pv</code>、<code>page_pv</code>的值均为<code>false</code>时，不蒜子仅作记录而不会在页面上显示。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807041324.png" alt="image-20210807041324625"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807041422.png" alt="image-20210807041422008"></p>
<ul>
<li><p>在站点的根目录下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm i --save hexo-wordcount</span><br></pre></td></tr></table></figure>

<p>编辑 <strong>主题配置文件</strong> 中的<code>post_wordcount</code>的配置项。</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Post wordcount display settings</span><br><span class="line"># Dependencies: https://github.com/willin/hexo-wordcount</span><br><span class="line">post_wordcount:</span><br><span class="line">  item_text: true</span><br><span class="line">  #字数统计</span><br><span class="line">  wordcount: true</span><br><span class="line">  #阅读时长</span><br><span class="line">  min2read: true</span><br><span class="line">  #总字数,显示在页面底部</span><br><span class="line">  totalcount: true</span><br><span class="line">  separated_meta: true</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807042246.png" alt="image-20210807042246099"></p>
<h3 id="评论系统"><a href="#评论系统" class="headerlink" title="评论系统"></a>评论系统</h3><p><em><strong>Valine</strong></em>是一款基于<code>Leancloud</code>的极简风评论系统。</p>
<ol>
<li><p><strong>注册登录<a href="https://leancloud.cn/dashboard/login.html#/signup">Leancloud</a>`</strong></p>
</li>
<li><p><strong>创建应用，开发版，名称随意。</strong></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807125855.png" alt="image-20210807125855609"></p>
</li>
<li><p><strong>选择刚刚创建的<code>应用</code>&gt;<code>设置</code>&gt;<code>应用凭证</code><strong>，</strong>获取AppID和AppKey</strong></p>
</li>
</ol>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807130130.png" alt="image-20210807130130456" style="zoom: 67%;" />



<ol start="4">
<li><strong>点击设置 → 安全中心 绑定web安全域名，防止恶意调用。</strong></li>
</ol>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807130235.png" alt="image-20210807130235706" style="zoom:67%;" />



<ol start="5">
<li><strong>主题配置文件中，填写<code>appid</code>和<code>appkey</code>等<code>valine</code>参数</strong></li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807131124.png" alt="image-20210807131124422"></p>
<p>测试通过</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807131203.png" alt="image-20210807131203258"></p>
<p>并且数据支持后台查看/导出的。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807131643.png" alt="image-20210807131643643"></p>
<ul>
<li><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4></li>
</ul>
<p>在 Hexo 博客中，评论的功能在所有页面都默认开启，但是有的时候我们在页面上不需要显示评论功能，例如分类，标记页面我们并不需要评论功能。可以通过<code>comments</code>属性设置<code>true</code>或<code>false</code>控制该页面或者是文章的评论功能是否打开，如下：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Tags</span><br><span class="line">date: 2021-8-7 13:13:45</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line"><span class="section">comments: false</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>



<ol start="6">
<li><strong>评论头像配置</strong></li>
</ol>
<p>Valine 目前使用的是<a href="http://cn.gravatar.com/">Gravatar</a> 作为评论列表头像。</p>
<p>请自行登录或注册<a href="http://cn.gravatar.com/">Gravatar</a>，然后修改自己的头像。</p>
<p>评论的时候，留下在<a href="http://cn.gravatar.com/">Gravatar</a>注册时所使用的邮箱即可。<del>打不开就翻墙。</del></p>
<p><em><strong>其实还有很多都是“抄作业”，这里直接给“作业”大家照抄就行。</strong></em></p>
<h3 id="看板娘-Live2D"><a href="#看板娘-Live2D" class="headerlink" title="看板娘(Live2D)"></a>看板娘(Live2D)</h3><p><a href="https://www.jianshu.com/p/d72a86209fd5">HEXO+icarus主题 给博客添加看板娘(Live2D)</a></p>
<h3 id="分享功能"><a href="#分享功能" class="headerlink" title="分享功能"></a>分享功能</h3><p><a href="https://blog.csdn.net/qq_29951485/article/details/88667321">Hexo NexT主题中添加百度分享功能</a></p>
<p><em>持续优化，持续更新吧   现在比较大的问题就是首页文章的布局，一篇文章标题+图片占的篇幅太大 文章多了之后没法一目了然。</em></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Next</tag>
      </tags>
  </entry>
</search>
