<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>搭建Hexo博客(一)：手机(Termux) + 内网穿透(Sunny-Ngrok)</title>
    <url>/2021/07/28/21072801/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820132342.png" alt="image-20210820132342590"></p>
<span id="more"></span>

<p>PS：当初觉得网站需要24h运行服务，电脑总不能24开机，手机可以（其实是可以部署静态文件的），所以用手机搭建。</p>
<p>手机好处就是小巧，随身携带，走到哪只要内网电脑ssh手机就可以随时随地对博客网站进行编辑。但是手机写博客体验非常差，几乎没人这么干。</p>
<p>以下教程仅基于手机termux/linux部署，使用windows部署，自己百度撒。</p>
<p><strong>Termux</strong> 是运行在 Android 上的 terminal终端模拟器。极致模拟Linux，也是一款强大的手机开发生产工具，但我之前一直当个ping小工具。</p>
<h3 id="Termux下载"><a href="#Termux下载" class="headerlink" title="Termux下载"></a>Termux下载</h3><p><a href="https://f-droid.org/packages/com.termux/">F-Droid 下载地址</a></p>
<p><a href="https://www.coolapk.com/apk/com.termux">酷安 下载地址</a></p>
<p> <strong><a href="https://www.sqlsec.com/2018/05/termux.html">Termux 高级终端安装使用配置教程</a>国内已知最详细的termux教程，非常值得阅读！！！墙裂推荐。</strong></p>
<h3 id="安装后换源"><a href="#安装后换源" class="headerlink" title="安装后换源"></a>安装后换源</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sed -i &#x27;s@^\(deb.*stable main\)$@#\1\ndeb ![img](file:///C:\Users\xieqingyuan\AppData\Roaming\Tencent\QQTempSys\%W@GJ$ACOF(TYDYECOKVDYB.png)https://mirrors.bfsu.edu.cn/termux/termux-packages-24 stable main@&#x27; $PREFIX/etc/apt/sources.list &amp;&amp;sed -i &#x27;s@^\(deb.*games stable\)$@#\1\ndeb ![img](file:///C:\Users\xieqingyuan\AppData\Roaming\Tencent\QQTempSys\%W@GJ$ACOF(TYDYECOKVDYB.png)https://mirrors.bfsu.edu.cn/termux/game-packages-24 games stable@&#x27; $PREFIX/etc/apt/sources.list.d/game.list &amp;&amp;sed -i &#x27;s@^\(deb.*science stable\)$@#\1\ndeb ![img](file:///C:\Users\xieqingyuan\AppData\Roaming\Tencent\QQTempSys\%W@GJ$ACOF(TYDYECOKVDYB.png)https://mirrors.bfsu.edu.cn/termux/science-packages-24 science stable@&#x27; $PREFIX/etc/apt/sources.list.d/science.list &amp;&amp;apt update &amp;&amp; apt upgrade</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145218.png" alt="20210801133736"></p>
<p><strong>Hexo</strong> 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<h3 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pkg install nodejs</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145258.png" alt="20210801133813"></p>
<h3 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145435.png" alt="20210801133900"></p>
<p>​            </p>
<h3 id="新建一个博客网站"><a href="#新建一个博客网站" class="headerlink" title="新建一个博客网站"></a>新建一个博客网站</h3><p>命名随意，blog</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo init blog</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145349.png" alt="20210801133818"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd blog</span><br></pre></td></tr></table></figure>

<p>进入博客网站目录</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo g </span><br></pre></td></tr></table></figure>

<p>生成静态文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo s </span><br></pre></td></tr></table></figure>

<p>启动服务。默认情况下，访问网址为：<a href="http://localhost:4000/">http://localhost:4000/</a>  或者局域网内访问本机4000端口。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145557.png" alt="image-20210801145557639"></p>
<p>至此博客网站搭建完成。但只能本机/局域网内访问显然不合适。<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145621.png" alt="20210801133945"></p>
<h5 id="内网穿透可以让在内网的节点主动访问一个拥有公网IP地址的服务器，并由中间服务器搭桥，打通经过该服务器从其他主机到NAT之后节点的隧道。"><a href="#内网穿透可以让在内网的节点主动访问一个拥有公网IP地址的服务器，并由中间服务器搭桥，打通经过该服务器从其他主机到NAT之后节点的隧道。" class="headerlink" title="内网穿透可以让在内网的节点主动访问一个拥有公网IP地址的服务器，并由中间服务器搭桥，打通经过该服务器从其他主机到NAT之后节点的隧道。"></a>内网穿透可以让在内网的节点主动访问一个拥有公网IP地址的服务器，并由中间服务器搭桥，打通经过该服务器从其他主机到NAT之后节点的隧道。</h5><p><a href="http://ngrok.cc/">Sunny-Ngrok内网转发 - 国内内网映射服务器</a></p>
<h3 id="注册开通免费隧道"><a href="#注册开通免费隧道" class="headerlink" title="注册开通免费隧道"></a>注册开通免费隧道</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145631.png" alt="20210801133959"></p>
<p>隧道协议选http或https<br>隧道名称随便填<br>前置域名输入你想要的前置域名<br>本地端口填<strong>127.0.0.1:4000</strong><br>其他都不用填<br>然后直接确认添加</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145642.png" alt="20210801134012"></p>
<p>完成订单 <strong>隧道id</strong>复制下 有用</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145929.png" alt="image-20210801145929348"></p>
<h3 id="隧道映射"><a href="#隧道映射" class="headerlink" title="隧道映射"></a>隧道映射</h3><p>下载客户端python版本解压之后只需要执行一下sunny.py脚本输入隧道id。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801145952.png" alt="20210801134044"></p>
<p>这里可能会遇到两个问题 </p>
<ul>
<li>python没有安装</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pkg install python</span><br></pre></td></tr></table></figure>



<ul>
<li>找不到解压后的sunny.py的路径运行</li>
</ul>
<p>有点难搞，也能搞。下载手机安卓app <em><strong><u>qpython</u></strong></em> 。选择文件，解压后的sunny.py运行，输入隧道id。不做演示了</p>
<p><em>访问：<a href="http://xieqingyuan.free.idcfengye.com/">http://xieqingyuan.free.idcfengye.com</a></em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150008.png" alt="20210801134108"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150019.png" alt="20210801134140">实现了外网访问。</p>
<p>那么问题来了，python脚本和hexo服务都不能停，这样真的方便吗？？？不方便！！！</p>
<p>预知后事如何，且听下回分解（Hexo+github搭建博客）</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>Termux</tag>
        <tag>内网穿透</tag>
      </tags>
  </entry>
  <entry>
    <title>搭建Hexo博客(二)：Hexo+github搭建博客</title>
    <url>/2021/07/30/21073001/</url>
    <content><![CDATA[<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807140501.jpeg" alt="Hexo+github" style="zoom:150%;" />



<span id="more"></span>



<p>书接上回，接下来要将hexo生成的静态文件上传到github，实现本地无需运行服务，打造个人博客网站。</p>
<h3 id="本地安装git"><a href="#本地安装git" class="headerlink" title="本地安装git"></a>本地安装git</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pkg install git</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150044.png" alt="20210801134206"></p>
<h3 id="配置用户名和邮箱"><a href="#配置用户名和邮箱" class="headerlink" title="配置用户名和邮箱"></a>配置用户名和邮箱</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;github 用户名&quot;</span><br><span class="line"></span><br><span class="line">git config --global user.email &quot;github 注册邮箱&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150052.png" alt="20210801134215"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150057.png" alt="20210801134223"></p>
<h3 id="在本地创建ssh-key"><a href="#在本地创建ssh-key" class="headerlink" title="在本地创建ssh key"></a>在本地创建ssh key</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150105.png" alt="20210801134234"></p>
<p>默认回车</p>
<p>执行上述命令之后，会在<code>~/.ssh</code>目录生成 id_rsa 和 id_rsa.pub 两个文件，前者是我们私有的，而后者则是对外开放的。接着 id_rsa.pub 密钥，将内容复制；</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150112.png" alt="20210801134252"></p>
<h3 id="注册github账户以及Add-SSH-Key"><a href="#注册github账户以及Add-SSH-Key" class="headerlink" title="注册github账户以及Add SSH Key"></a>注册github账户以及Add SSH Key</h3><p>打开GitHub-Settings-Keys页面，创建一个新的 SSH key，填写 Title 和 Key，Title 可以随意，而 Key 的内容则是我们刚才复制的 id_rsa.pub 中的内容，最后点击 Add SSH key 即可；</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150123.png" alt="20210801134304"></p>
<h3 id="新建仓库"><a href="#新建仓库" class="headerlink" title="新建仓库"></a>新建仓库</h3><p>确保你的仓库是 public，你要搞个 private，就没人能访问了。同时，<strong>仓库名一定要是：用户名.github.io！！！仓库名一定要是：用户名.github.io！！！仓库名一定要是：用户名.github.io</strong>！！！</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150142.png" alt="20210801134310"></p>
<p>接下来就是推送网站到 Github Pages 了，然后我们就能被其他人访问了。</p>
<h3 id="本地配置远端推送"><a href="#本地配置远端推送" class="headerlink" title="本地配置远端推送"></a>本地配置远端推送</h3><p>只需要博客根目录中的站点配置文件 <code>_config.yml</code> ，设置为你的个人仓库名即可。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150228.png" alt="20210801134321"></p>
<p>vi编辑器命令模式下输入<code>/deploy</code>定位，找到远程部署设置代码修改。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150234.png" alt="20210801134326"></p>
<p>保存退出</p>
<p><code>hexo g</code> 生成静态文件</p>
<p><code>Hexo d</code> 将本地生成的静态文件推送到GitHub仓库</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150244.png" alt="20210801134331"></p>
<p>github仓库中就可以看到推送过来的文件了</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150314.png" alt="image-20210801150314039"></p>
<p>然后在浏览器中访问：</p>
<p>https://用户名.github.io</p>
<p>推送的是静态文件所以本地hexo服务不用运行，每次写完博客只要<code>hexo g</code>,<code>hexo d</code> 就行。还能外网访问。nice</p>
<p>但是，github服务器在国外，DNS污染，github.io加载非常慢甚至有时候访问不了<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150340.png" alt="20210801134345">可以通过修改<code>C:\Windows\System32\drivers\etc\hosts</code>文件加快访问速度，但博客是给别人看的，不合适！！！</p>
<p>当然也可以使用Gitee “中国github” /doge ，但是有更好的解决办法。</p>
<p>欲知后事如何，且听下回分解（用宝塔面板将Hexo部署到阿里云）</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>Termux</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>搭建Hexo博客(三)：用宝塔面板将Hexo部署到阿里云</title>
    <url>/2021/07/31/21073101/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820132539.png" alt="image-20210820132539510"></p>
<span id="more"></span>

<p>书接上回，github服务器在国外，而且DNS污染严重，于是我斥“巨资”<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155455.gif">在阿里云买了轻量应用服务器和域名，打算将博客网站挂到阿里云服务器下。</p>
<h3 id="购买服务器域名"><a href="#购买服务器域名" class="headerlink" title="购买服务器域名"></a>购买服务器域名</h3><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155923.jpg" alt="qq_pic_merged_1627804751843" style="zoom:50%;" />

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801160638.png" alt="image-20210801160637948"></p>
<p>配置有点捞，但是挂网站绰绰有余<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155503.gif" alt="img"></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>查看公网IP，设置密码</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801183119.png" alt="image-20210801183119470" style="zoom:50%;" />

<p>登录</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh user@host 如：ssh root@192.168.0.104</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801161305.png" alt="image-20210801161305383"></p>
<h3 id="git配置"><a href="#git配置" class="headerlink" title="git配置"></a>git配置</h3><ol>
<li><strong>安装git</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install git</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>配置 git 仓库</strong></li>
</ol>
<p>在root用户下输入</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">useradd git <span class="comment"># 创建用户git</span></span><br><span class="line">passwd git <span class="comment"># 为用户git设置密码</span></span><br><span class="line">chmod <span class="number">740</span> /etc/sudoers  <span class="comment"># 修改文件权限</span></span><br><span class="line">vim /etc/sudoers</span><br><span class="line"> <span class="comment"># 找到           root ALL=(ALL)  ALL</span></span><br><span class="line"> <span class="comment"># 在下面添加一行   git  ALL=(ALL)  ALL</span></span><br><span class="line"> <span class="comment"># 输入:wq即可保存并退出编辑</span></span><br><span class="line">chmod <span class="number">400</span> /etc/sudoers</span><br></pre></td></tr></table></figure>

<p>切换git用户</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">su git   <span class="comment"># 切换到git用户,这步最关键</span></span><br><span class="line">sudo mkdir  -p  /www/wwwroot/blog  <span class="comment"># 把博客目录放在宝塔网站的根目录下</span></span><br><span class="line">cd /home/git</span><br><span class="line">mkdir repos</span><br><span class="line">cd repos</span><br><span class="line">git init --bare blog.git  <span class="comment"># 创建一个裸库blog.git</span></span><br><span class="line">cd blog.git/hooks</span><br><span class="line">vim post-receive</span><br></pre></td></tr></table></figure>

<p>输入以下代码，保存退出</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line">git --work-tree=/www/wwwroot/blog --git-<span class="built_in">dir</span>=/home/git/repos/blog.git checkout -f</span><br></pre></td></tr></table></figure>

<p>修改权限</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">chmod +x post-receive</span><br><span class="line">exit   <span class="comment">#回到root用户</span></span><br><span class="line">chown -R git:git /home/git/repos/blog.git <span class="comment">#赋予git用户可操作仓库blog.git的权限</span></span><br><span class="line"></span><br><span class="line">chown -R git:git /www/wwwroot/blog <span class="comment">#赋予git用户可操作仓库blog.git的权限</span></span><br></pre></td></tr></table></figure>



<h3 id="免密登录配置"><a href="#免密登录配置" class="headerlink" title="免密登录配置"></a>免密登录配置</h3><p>之前推送到github配置过，只要复制公钥到阿里云服务器了就行了。</p>
<ol>
<li><strong>在本地Termux创建ssh key</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150105.png" alt="20210801134234"></p>
<p>默认回车</p>
<p>执行上述命令之后，会在<code>~/.ssh</code>目录生成 id_rsa 和 id_rsa.pub 两个文件，前者是我们私有的，而后者则是对外开放的。</p>
<p>​    </p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801150112.png" alt="20210801134252"></p>
<p>windows命令一样，路径如下:</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801170439.png" alt="image-20210801170439598" style="zoom:50%;" />





<ol start="2">
<li><p><strong>将公钥添加到阿里云服务器authorized_keys文件中</strong></p>
<p>git用户下输入</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir ~/.ssh</span><br><span class="line">vim ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>

<p>怎么添加属实八仙过海各显神通</p>
<ul>
<li>复制粘贴，退出保存。容易出错，我第一次弄的时候就死活不能免密，调试了一个多小时，重来一遍才成功。</li>
</ul>
<ul>
<li>传输文件，再改名/写入</li>
</ul>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801165416.png" alt="image-20210801165416555"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801180204.png" alt="image-20210801180204879"></p>
<ul>
<li>用ssh-copy-id将公钥复制到服务器</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-copy-id -i .ssh/id_rsa.pub root@xxx.xxx.xxx.xxx</span><br></pre></td></tr></table></figure>

<p><strong>注意:</strong> ssh-copy-id <strong>将key写到远程机器的 ~/</strong> .ssh/authorized_key.文件中</p>
<h3 id="安装宝塔面板"><a href="#安装宝塔面板" class="headerlink" title="安装宝塔面板"></a>安装宝塔面板</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6<span class="number">.0</span>.sh &amp;&amp; sh install.sh</span><br></pre></td></tr></table></figure>

<p>安装完成记录下宝塔面板地址、用户名、密码。或者bt查看</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801162449.png" alt="image-20210801162449399"></p>
<h3 id="服务器防火墙设置"><a href="#服务器防火墙设置" class="headerlink" title="服务器防火墙设置"></a>服务器防火墙设置</h3><p>放行8888端口  登录不了的话就设置下这个  有的叫安全组</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801181550.png" alt="image-20210801181550802" style="zoom:50%;" />



<h3 id="登录宝塔面板"><a href="#登录宝塔面板" class="headerlink" title="登录宝塔面板"></a>登录宝塔面板</h3><p>输入账号密码，环境安装方式：<strong>极速安装</strong>     一键安装</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801181815.png" alt="image-20210801181815072" style="zoom:50%;" />



<h3 id="网站配置"><a href="#网站配置" class="headerlink" title="网站配置"></a>网站配置</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801182112.png" alt="image-20210801182112159"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801182430.png" alt="image-20210801182430055"></p>
<h3 id="本地HEXO-配置文件设置"><a href="#本地HEXO-配置文件设置" class="headerlink" title="本地HEXO 配置文件设置"></a>本地HEXO 配置文件设置</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801182706.png" alt="image-20210801182706566"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801182930.png" alt="image-20210801182930807"></p>
<h3 id="测试上传"><a href="#测试上传" class="headerlink" title="测试上传"></a>测试上传</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801183525.png" alt="image-20210801183525559"></p>
<p>最后在浏览器输入地址 查看效果即可。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155448.gif" alt="img"></p>
<p>建站完成，过程坎坷，一波三折。建议跳过前两步，直接部署到服务器！</p>
<p>下期教大家如何美化自己的Hexo博客。</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>Termux</tag>
        <tag>aliyun</tag>
        <tag>宝塔</tag>
      </tags>
  </entry>
  <entry>
    <title>PicGo + 阿里云对象存储OSS搭建个人图床</title>
    <url>/2021/08/01/21080101/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807141727.jpg" alt="aliyunOSS"></p>
<span id="more"></span>

<p><em><strong>图床</strong></em>，就是指储存图片的服务器。</p>
<p>网上搜索一下，会发现有很多免费的图床，但长时间怕丢图，或者人家跑路了，整个网站的图片都GG。所以还是要搭建属于自己的图床。</p>
<p><em><strong>图床工具</strong></em>，就是自动把本地图片转换成链接的一款工具，网络上有很多图床工具，就目前使用种类而言，PicGo 算得上一款比较优秀的图床工具。它是一款用 <code>Electron-vue</code> 开发的软件，可以支持微博，七牛云，腾讯云COS，又拍云，GitHub，阿里云OSS，SM.MS，imgur 等8种常用图床，功能强大，简单易用。</p>
<h3 id="下载PicGo"><a href="#下载PicGo" class="headerlink" title="下载PicGo"></a>下载PicGo</h3><p><a href="https://github.com/Molunerfinn/PicGo/releases">PicGo下载地址</a></p>
<p><em>mac</em> 系统选择 .<em>dmg</em> 下载，<em>windwos</em> 选择 <em>.exe</em>系统</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801202854.png" alt="image-20210801202853961" style="zoom: 67%;" />



<h3 id="安装PicGo"><a href="#安装PicGo" class="headerlink" title="安装PicGo"></a>安装PicGo</h3><p>安装完成后在右下角，我一直打不开以为安装没成功，又卸载重装了一遍才发现在右下角<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155405.jpg" alt="img"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801203029.png" alt="image-20210801203029160"></p>
<p>一开始用Github仓库存储图片，但还是那个问题，github服务器在国外，不做加速处理，图片加载慢，甚至加载不出来。配置过程讲个大概就行。</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801203912.png" alt="QQ截图20210801142842" style="zoom:50%;" />





<p><strong>新建一个仓库</strong></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801204908.png" alt="image-20210801204908692"></p>
<p>个人中心，<em>Settings</em>-&gt; <em>Developer settings</em> -&gt;  <em>Personal access tokens</em>，我们在这里创建需要的 <em>token</em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801204725.png" alt="image-20210801204725223"></p>
<p>生成一个 <em>token</em> ，复制保存到其他地方，这个 <em>token</em> 只显示一次。</p>
<p>打开PicGo -&gt;  图床设置 -&gt;  github图床</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801204500.png" alt="image-20210801204500664"></p>
<p>俗话说的好，免费的就没好东西<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155509.gif" alt="img">Gitee也行，虽然是国内的，但是据说仓库的容量有上限（好像是1个G)，并且图片的大小超过1M 就需要登录才能显示，否则看不见。</p>
<p>这种事可以花点钱嘛~花不了多少钱。40G的容量一年才9块钱，外网流出流量 00:00-08:00（闲时）：0.25元/GB \ 8:00-24:00（忙时）：0.50元/GB   完全可以抹零。</p>
<h3 id="开通并创建阿里云对象存储OSS"><a href="#开通并创建阿里云对象存储OSS" class="headerlink" title="开通并创建阿里云对象存储OSS"></a>开通并创建阿里云对象存储OSS</h3><ol>
<li><p><strong>登录<a href="https://www.aliyun.com/">阿里云</a></strong></p>
</li>
<li><p><strong>搜索对象存储 OSS</strong></p>
</li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801211006.png" alt="image-20210801211006780"></p>
<ol start="3">
<li><strong>购买OSS资源包</strong></li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801211306.png" alt="image-20210801211306142"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801211453.png" alt="image-20210801211453531"></p>
<ol start="4">
<li><p><strong>创建Bucket</strong></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801212005.png" alt="image-20210801212005690"></p>
</li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801212314.png" alt="image-20210801212314421"></p>
<ol start="5">
<li><strong>新建目录</strong></li>
</ol>
<p>对象存储/Bucket 列表/qyxie-blog/文件管理</p>
<p>推荐目录名为：<code>img/</code>目录名后要加一个<code>/</code></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801212706.png" alt="image-20210801212706425"></p>
<h3 id="配置AccessKey"><a href="#配置AccessKey" class="headerlink" title="配置AccessKey"></a>配置AccessKey</h3><ol>
<li><strong>找到右上角的头像 - AccessKey管理</strong></li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801213136.png" alt="image-20210801213136841"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801213200.png" alt="image-20210801213200840"></p>
<ol start="2">
<li><strong>创建AccessKey</strong></li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801213218.png" alt="image-20210801213218688"></p>
<ol start="3">
<li><strong>保存AccessKey ID 和AccessKey Secret</strong></li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801213430.png" alt="image-20200812145115691"></p>
<ol start="4">
<li><p><strong>记下存储空间名和存储区域</strong></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801213917.png" alt="image-20210801213917839"></p>
</li>
</ol>
<h3 id="PicGo设置"><a href="#PicGo设置" class="headerlink" title="PicGo设置"></a>PicGo设置</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801214043.png" alt="image-20210801214043035"></p>
<p>好了，使用起来也是非常的方便快捷呢。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155448.gif" alt="img"></p>
<h3 id="Tips：设置防盗链"><a href="#Tips：设置防盗链" class="headerlink" title="Tips：设置防盗链"></a>Tips：设置防盗链</h3><p>防盗链，就是防止别人盗取你的图片。怕有居心不良的人用我们资源拿去在他们网站展示，消费的是我们的流量，为了解决这种问题，才会有防盗链这个思路。</p>
<p>存储对象 -&gt;  权限管理 -&gt; 防盗链</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801220136.png" alt="image-20210801220136432"></p>
<p>但这也将导致编辑博客时<code>Typora</code>本地无法预览图片，暂时不知道如何解决，酌情使用。<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155518.gif" alt="img"></p>
<p>搭建个人图床主要目的还是写博客快捷高效，博客中的图片一般都采用网络图片，采用本地图片有一些路径的问题，而且上传文章时图片也要打包上传，非常不好用。<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155503.gif" alt="img"></p>
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>aliyun</tag>
        <tag>PicGo</tag>
        <tag>OSS</tag>
      </tags>
  </entry>
  <entry>
    <title>如何优雅写博客</title>
    <url>/2021/08/07/21080701/</url>
    <content><![CDATA[<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807141834.jpg" alt="Typora" style="zoom:150%;" />

<span id="more"></span>

<p><strong>Markdown</strong>是一种轻量级标记语言，创始人为约翰·格鲁伯（英语：John Gruber）。 它允许人们使用易读易写的纯文本格式，然后转换成有效的XHTML（或者HTML）文档。这种语言吸收了很多在电子邮件中已有的纯文本标记的特性。<em>——百度百科</em></p>
<p>Hexo 使用 <strong>Markdown</strong>(或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<p>工欲善其事必先利其器，用Hexo写博客不可能每次都</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo new &quot;My New Post&quot;</span><br></pre></td></tr></table></figure>

<p>然后用记事本或者vi编辑器去写文章中。效率非常低，而且图片插入是个难点。需要一个 高效好用的<strong>Markdown 文本编辑器</strong>。</p>
<h2 id="Typora-是什么？"><a href="#Typora-是什么？" class="headerlink" title="Typora 是什么？"></a>Typora 是什么？</h2><p>Typora 是一款<strong>支持实时预览的 Markdown 文本编辑器</strong>。它有 OS X、Windows、Linux 三个平台的版本，完全免费的。<a href="https://typora.io/">Typora 官网</a> 上他们将 Typora 描述为 「A truly <strong>minimal</strong> markdown editor. 」。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807142738.png" alt="img"></p>
<h4 id="极致简洁"><a href="#极致简洁" class="headerlink" title="极致简洁"></a>极致简洁</h4><p>打开Typora，你会发现它的界面非常简洁，几乎没有任何按钮，只在上方有一排功能键，右下角是字数统计，其余强大的功能都被藏在后台。且按下F11进入全屏状态，你的世界里就只有文字。</p>
<h4 id="实时预览"><a href="#实时预览" class="headerlink" title="实时预览"></a>实时预览</h4><p>般Markdown 编辑器界面都是两个窗口，左边是Markdown 源码，右边是效果预览。有时一边写源码，一边看效果，确实有点不便。但是使用<strong>Typora</strong> 可以实时的看到渲染效果，而且是在同一个界面，所见即所得。</p>
<h4 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h4><p><strong>Typora</strong> 对几乎所有Markdown 语法都提供了快捷操作，通过菜单栏的<code>段落</code> 和<code>格式</code> 中的功能可以快速设置标记语法，一些常用的操作都有快捷键，用起来非常高效。</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807145046.png" alt="image-20210807145046432" style="zoom:50%;" />

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807145129.png" alt="image-20210807145129861"></p>
<h4 id="图片插入"><a href="#图片插入" class="headerlink" title="图片插入"></a>图片插入</h4><p>Typora 的图片插入功能是广受好评的。要知道，Markdown 原生不太注重图片插入的功能，但你在 Typora 中：</p>
<ul>
<li><p>可以直接将网络图片、剪贴板图片复制到文档中</p>
</li>
<li><p>可以拖动本地图片到文档中</p>
</li>
<li><p><a href="https://www.qyxie.top/2021/08/01/21080101/#more">配合PicGo个人图床</a>  <!--PicGo + 阿里云对象存储OSS搭建个人图床教程--></p>
<p><code>文件</code>-&gt;<code>偏好设置</code>-&gt;<code>图像</code></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807143933.png" alt="image-20210807143933250"></p>
</li>
</ul>
<p>Typora 会自动帮你插入符合 Markdown 语法的图片语句，并给它加上标题。</p>
<p>Typora和PicGo几乎绑定，写博客才能快捷高效，博客中的图片一般都采用网络图片，采用本地图片有一些路径的问题，而且上传文章时图片也要打包上传，非常不好用。<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210801155503.gif" alt="img"></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>PicGo</tag>
        <tag>Markdown</tag>
        <tag>Typora</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo之Next主题优化改造</title>
    <url>/2021/08/06/21080601/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820132857.png" alt="image-20210820132857390"></p>
<span id="more"></span>

<p>博客初步搭建完成，但是这个默认的主题实在丑的可以。还好Hexo是可以修改主题的。其中不乏一些非常优秀的主题。</p>
<p><a href="https://www.zhihu.com/question/24422335">知乎：有哪些好看的 Hexo 主题？</a></p>
<p><em>NexT</em>是Hexo的知名第三方主题,黑白极简风格四合一,有相当多的使用者。<em><strong>精于心，简于形</strong></em>标语说的是真的不错。使用NexT主题的人比较多，主题成熟。优化，配置，扩展很多都集成了，比较简单。</p>
<h3 id="启用Next主题"><a href="#启用Next主题" class="headerlink" title="启用Next主题"></a>启用Next主题</h3><ol>
<li><strong>下载Next主题包</strong></li>
</ol>
<p>在<em><strong>博客根目录下</strong></em>安装</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/iissnan/hexo-theme-next.git themes/next</span><br></pre></td></tr></table></figure>

<p>以上代码的意思是从 <a href="https://github.com/iissnan/hexo-theme-next%E5%B0%86next%E4%B8%8B%E8%BD%BD%E5%88%B0%E5%BD%93%E5%89%8D%E5%8D%9A%E5%AE%A2%E6%A0%B9%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84themes%E9%87%8C%E9%9D%A2%E7%9A%84next%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD%E3%80%82">https://github.com/iissnan/hexo-theme-next将next下载到当前博客根目录下的themes里面的next文件夹中。</a></p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806205932.jpg" alt="img" style="zoom:67%;" />



<ol start="2">
<li><strong>修改Next主题</strong></li>
</ol>
<p>我的博客根目录是<code>/hexo</code>,在以下会有两个配置文件。请注意区分。</p>
<p><code>/hexo/_config.yml</code>，为了描述方便，在以下说明中，将称为 <strong>站点配置文件</strong></p>
<p><code>/hexo/themes/next/_config.yml</code>，为了描述方便，在以下说明中，将称为 <strong>主题配置文件</strong></p>
<p>在站点配置文件中搜索theme，由<code>landscape</code>默认主题修改为<code>next</code></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806212527.png" alt="image-20210806212527590"></p>
<p>保存退出。</p>
<p>hexo一键三连</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo clean &amp;&amp; hexo s -g</span><br></pre></td></tr></table></figure>

<p>访问页面，这就是Next的默认页面。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806213203.png" alt="image-20210806213202922"></p>
<p>如果网页报错：</p>
<p><code>“ &#123;% extends ‘_layout.swig‘ %&#125; &#123;% import ‘_macro/post.swig‘ as post_template %&#125;“</code></p>
<p>原因是hexo在5.0之后把swig给删除了需要自己手动安装</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i hexo-renderer-swig </span><br></pre></td></tr></table></figure>



<ol start="3">
<li><strong>选择 Scheme</strong></li>
</ol>
<p>Scheme 是 NexT 提供的一种特性，借助于 Scheme，NexT 为你提供多种不同的外观。同时，几乎所有的配置都可以 在 Scheme 之间共用。目前 NexT 支持三种 Scheme，他们是：</p>
<ul>
<li>Muse - 默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白</li>
<li>Mist - Muse 的紧凑版本，整洁有序的单栏外观</li>
<li>Pisces - 双栏 Scheme，小家碧玉似的清新</li>
<li>Gemini - 左侧网站信息及目录，块+片段结构布局</li>
</ul>
<p>进入<strong>主题配置文件</strong>，搜索Scheme,注释掉默认的，启用你想用的。我用的是<em><strong>Gemini</strong></em>。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806221815.png" alt="image-20210806221815378"></p>
<p>保存退出，重启Hexo服务，修改成功，左侧网站信息及目录，块+片段结构布局。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806221939.png" alt="image-20210806221939223"></p>
<h3 id="站点基本设置"><a href="#站点基本设置" class="headerlink" title="站点基本设置"></a>站点基本设置</h3><p>编辑 <strong>站点配置文件</strong>。Site</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806223619.png" alt="image-20210806223619642"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806224114.png" alt="image-20210806224114858"></p>
<h3 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a>菜单</h3><p>设定菜单内容，对应<strong>主题配置文件</strong>中字段是 <code>menu</code>。 菜单内容的设置格式是：<code>item name: link</code>。其中 <code>item name </code>是一个名称，这个名称并不直接显示在页面上，她将用于匹配图标以及翻译。</p>
<p>NexT 默认的菜单项有：</p>
<table>
<thead>
<tr>
<th align="left">键值</th>
<th align="left">设定值</th>
<th align="left">显示文本（简体中文）</th>
</tr>
</thead>
<tbody><tr>
<td align="left">home</td>
<td align="left"><code>home: /</code></td>
<td align="left">主页</td>
</tr>
<tr>
<td align="left">archives</td>
<td align="left"><code>archives: /archives</code></td>
<td align="left">归档页</td>
</tr>
<tr>
<td align="left">categories</td>
<td align="left"><code>categories: /categories</code></td>
<td align="left">分类页</td>
</tr>
<tr>
<td align="left">tags</td>
<td align="left"><code>tags: /tags</code></td>
<td align="left">标签页</td>
</tr>
<tr>
<td align="left">about</td>
<td align="left"><code>about: /about</code></td>
<td align="left">关于页面</td>
</tr>
<tr>
<td align="left">commonweal</td>
<td align="left"><code>commonweal: /404.html</code></td>
<td align="left">公益 404</td>
</tr>
</tbody></table>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806234521.png" alt="image-20210806234521372"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806231520.png" alt="image-20210806231520743"></p>
<p>光设置菜单，无页面也不能跳转。about这个你是找不到网页的，因为你的文章中没有about这个东西。如果你想要的话，可以执行命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new page about</span><br></pre></td></tr></table></figure>

<p>它就会在根目录下source文件夹中新建了一个about文件夹，以及<code>index.md</code>，在<code>index.md</code>中写上你想要写的东西，就可以在网站上展示出来了。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806232337.png" alt="image-20210806232337570"></p>
<p>加个type属性，要与<code>menu</code>中的菜单项匹配。</p>
<p><strong>注意：</strong>如果有集成评论服务，页面也会带有评论。 若需要关闭的话，请添加字段 <code>comments</code> 并将值设置为 <code>false</code>，如：</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210806232732.png" alt="image-20210806232732533"></p>
<p>如法炮制：</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807004317.png" alt="image-20210807004317793"></p>
<p>其中分类，标签，归档自动完成。只要每篇文章开头按照格式书写。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: XXXX</span><br><span class="line">date: XXXX-XX-XX XX:XX:XX</span><br><span class="line">categories: XXXX</span><br><span class="line">tags: [XXXX,XXXX,XXXX]</span><br><span class="line">---</span><br></pre></td></tr></table></figure>



<p>腾讯公益404自行百度代码添加。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807010710.png" alt="image-20210807010710696"></p>
<h3 id="本地搜索"><a href="#本地搜索" class="headerlink" title="本地搜索"></a>本地搜索</h3><p>在你站点的根目录下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<p>打开 <code>站点配置文件</code>,添加配置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure>

<p>打开 <code>themes/next/_config.yml</code> ,搜索关键字 <code>local_search</code> ,设置为 <code>true</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Local search</span><br><span class="line"># Dependencies: https://github.com/flashlab/hexo-generator-search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807030800.png" alt="image-20210807030800335"></p>
<h3 id="Favicon"><a href="#Favicon" class="headerlink" title="Favicon"></a>Favicon</h3><p>默认图标是N，修改<code>主题配置文件</code>，只需要设置small和medium两个就可以：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">favicon:</span><br><span class="line">  small: /images/favicon.ico</span><br><span class="line">  medium: /images/favicon.ico</span><br><span class="line">  apple_touch_icon: /images/apple-touch-icon-next.png</span><br><span class="line">  safari_pinned_tab: /images/logo.svg</span><br></pre></td></tr></table></figure>

<p>支持本地路径图片/网络图片</p>
<h3 id="头像"><a href="#头像" class="headerlink" title="头像"></a>头像</h3><ul>
<li><strong>添加头像</strong></li>
</ul>
<p>编辑 <strong>主题配置文件</strong>， 修改字段 <code>avatar</code>， 值设置成头像的链接地址。其中，头像的链接地址可以是：</p>
<table>
<thead>
<tr>
<th align="left">地址</th>
<th align="left">值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">完整的互联网 URI</td>
<td align="left"><code>http://example.com/avatar.png</code></td>
</tr>
<tr>
<td align="left">站点内的地址</td>
<td align="left">将头像放置主题目录下的 <code>source/uploads/</code> （新建 uploads 目录若不存在） 配置为：<code>avatar: /uploads/avatar.png</code>或者 放置在 <code>source/images/</code> 目录下 配置为：<code>avatar: /images/avatar.png</code></td>
</tr>
</tbody></table>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807015106.png" alt="image-20210807015106481"></p>
<ul>
<li><p><strong>设置头像边框为圆形框</strong></p>
<p>打开位于 <code>themes/next/source/css/_common/components/sidebar/sidebar-author.syl</code> 文件,修改如下:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.site-author-image &#123;</span><br><span class="line">  display: block;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">  padding: $site-author-image-padding;</span><br><span class="line">  max-width: $site-author-image-width;</span><br><span class="line">  height: $site-author-image-height;</span><br><span class="line">  border: $site-author-image-border-width solid $site-author-image-border-color;</span><br><span class="line"> // 修改头像边框</span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  -webkit-border-radius: 50%;</span><br><span class="line">  -moz-border-radius: 50%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>特效：鼠标放置头像上旋转</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.site-author-image &#123;</span><br><span class="line">  display: block;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">  padding: $site-author-image-padding;</span><br><span class="line">  max-width: $site-author-image-width;</span><br><span class="line">  height: $site-author-image-height;</span><br><span class="line">  border: $site-author-image-border-width solid $site-author-image-border-color;</span><br><span class="line"> // 修改头像边框</span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  -webkit-border-radius: 50%;</span><br><span class="line">  -moz-border-radius: 50%;</span><br><span class="line">  // 设置旋转</span><br><span class="line">  transition: 1.4s all;</span><br><span class="line">&#125;</span><br><span class="line">// 可旋转的圆形头像,`hover`动作</span><br><span class="line">.site-author-image:hover &#123;</span><br><span class="line">    -webkit-transform: rotate(360deg);</span><br><span class="line">    -moz-transform: rotate(360deg);</span><br><span class="line">    -ms-transform: rotate(360deg);</span><br><span class="line">    -transform: rotate(360deg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807020148.png" alt="image-20210807020147972"></p>
<h3 id="侧边栏社交链接"><a href="#侧边栏社交链接" class="headerlink" title="侧边栏社交链接"></a>侧边栏社交链接</h3><p>侧栏社交链接的修改包含两个部分，第一是链接，第二是链接图标。 两者配置均在 <strong>主题配置文件</strong> 中。</p>
<ol>
<li><p>链接放置在 <code>social</code> 字段下，一行一个链接。其键值格式是 <code>显示文本: 链接地址</code>。</p>
<p>配置示例</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Social links</span><br><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/your-user-name</span><br><span class="line">  Twitter: https://twitter.com/your-user-name</span><br><span class="line">  微博: http://weibo.com/your-user-name</span><br><span class="line">  豆瓣: http://douban.com/people/your-user-name</span><br><span class="line">  知乎: http://www.zhihu.com/people/your-user-name</span><br><span class="line">  # 等等</span><br></pre></td></tr></table></figure></li>
<li><p>设定链接的图标，对应的字段是 <code>social_icons</code>。匹配键: <a href="http://www.fontawesome.com.cn/">Font Awesome</a> 图标名称（不必带 <code>fa-</code> 前缀）。自行查找更换。 <code>enable</code> 选项用于控制是否显示图标，你可以设置成 <code>false</code> 来去掉图标。</p>
</li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807020010.png" alt="image-20210807020010653"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807020159.png" alt="image-20210807020159112"></p>
<p>​    </p>
<h3 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h3><p>编辑 <strong>主题配置文件</strong> 添加：</p>
<p>友情链接配置示例</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807020349.png" alt="image-20210807020349403"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807024439.png" alt="image-20210807024439190"></p>
<h3 id="网易云音乐插件"><a href="#网易云音乐插件" class="headerlink" title="网易云音乐插件"></a>网易云音乐插件</h3><p>打开网易云网页版，找一首你喜欢的歌。点击生成外链。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807031233.png" alt="image-20210807031232975"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807031259.png" alt="image-20210807031259412"></p>
<p>复制代码，添加到<code>hexo/themes/next/layout/_macro/sidebar.swig</code>中</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807031841.png" alt="image-20210807031841577"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807031913.png" alt="image-20210807031913689"></p>
<h3 id="浏览页面的时候显示当前浏览进度"><a href="#浏览页面的时候显示当前浏览进度" class="headerlink" title="浏览页面的时候显示当前浏览进度"></a>浏览页面的时候显示当前浏览进度</h3><p>打开 <code>主题配置文件</code> ,搜索关键字 <code>scrollpercent</code> ,把 <code>false</code> 改为 <code>true</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Scroll percent label in b2t button</span><br><span class="line">  scrollpercent: true</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807025644.png" alt="image-20210807025644152"></p>
<h3 id="fork-me-on-github"><a href="#fork-me-on-github" class="headerlink" title="fork me on github"></a>fork me on github</h3><p>选择样式<a href="https://github.com/blog/273-github-ribbons">GitHub Ribbons</a>,修改跳转链接为自己的Github地址,复制代码。</p>
<p>打开 <code>themes/next/layout/_layout.swig</code> 文件，把代码复制到<code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code>下面。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807032757.png" alt="image-20210807032757357"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807032825.png" alt="image-20210807032825268"></p>
<h3 id="阅读全文"><a href="#阅读全文" class="headerlink" title="阅读全文"></a>阅读全文</h3><p>方法1. <code>主题配置文件</code>中<code>auto_excerpt</code>字段改为true 。超过150字省略，增加阅读全文按钮。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807034818.png" alt="image-20210807034818000"></p>
<p>方法2. 文章中加入<code>&lt;!-- more --&gt;</code></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807035330.png" alt="image-20210807035330580"></p>
<p>方法2的优先级大于方法1 所以一起使用 效果如下：</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807034537.png" alt="image-20210807034537324"></p>
<h3 id="文章末打赏功能"><a href="#文章末打赏功能" class="headerlink" title="文章末打赏功能"></a>文章末打赏功能</h3><p> 只需要 <strong>主题配置文件</strong> 中填入 微信 和 支付宝 收款二维码图片地址 即可开启该功能。</p>
<p>打赏功能配置示例</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807040656.png" alt="image-20210807040656783"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807040809.png" alt="image-20210807040809147"></p>
<h3 id="数据统计与分析"><a href="#数据统计与分析" class="headerlink" title="数据统计与分析"></a>数据统计与分析</h3><ul>
<li>编辑 <strong>主题配置文件</strong> 中的<code>busuanzi_count</code>的配置项。</li>
</ul>
<p>当<code>enable: true</code>时，代表开启全局开关。若<code>site_uv</code>、<code>site_pv</code>、<code>page_pv</code>的值均为<code>false</code>时，不蒜子仅作记录而不会在页面上显示。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807041324.png" alt="image-20210807041324625"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807041422.png" alt="image-20210807041422008"></p>
<ul>
<li><p>在站点的根目录下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm i --save hexo-wordcount</span><br></pre></td></tr></table></figure>

<p>编辑 <strong>主题配置文件</strong> 中的<code>post_wordcount</code>的配置项。</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Post wordcount display settings</span><br><span class="line"># Dependencies: https://github.com/willin/hexo-wordcount</span><br><span class="line">post_wordcount:</span><br><span class="line">  item_text: true</span><br><span class="line">  #字数统计</span><br><span class="line">  wordcount: true</span><br><span class="line">  #阅读时长</span><br><span class="line">  min2read: true</span><br><span class="line">  #总字数,显示在页面底部</span><br><span class="line">  totalcount: true</span><br><span class="line">  separated_meta: true</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807042246.png" alt="image-20210807042246099"></p>
<h3 id="评论系统"><a href="#评论系统" class="headerlink" title="评论系统"></a>评论系统</h3><p><em><strong>Valine</strong></em>是一款基于<code>Leancloud</code>的极简风评论系统。</p>
<ol>
<li><p><strong>注册登录<a href="https://leancloud.cn/dashboard/login.html#/signup">Leancloud</a>`</strong></p>
</li>
<li><p><strong>创建应用，开发版，名称随意。</strong></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807125855.png" alt="image-20210807125855609"></p>
</li>
<li><p><strong>选择刚刚创建的<code>应用</code>&gt;<code>设置</code>&gt;<code>应用凭证</code><strong>，</strong>获取AppID和AppKey</strong></p>
</li>
</ol>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807130130.png" alt="image-20210807130130456" style="zoom: 67%;" />



<ol start="4">
<li><strong>点击设置 → 安全中心 绑定web安全域名，防止恶意调用。</strong></li>
</ol>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807130235.png" alt="image-20210807130235706" style="zoom:67%;" />



<ol start="5">
<li><strong>主题配置文件中，填写<code>appid</code>和<code>appkey</code>等<code>valine</code>参数</strong></li>
</ol>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807131124.png" alt="image-20210807131124422"></p>
<p>测试通过</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807131203.png" alt="image-20210807131203258"></p>
<p>并且数据支持后台查看/导出的。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210807131643.png" alt="image-20210807131643643"></p>
<ul>
<li><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4></li>
</ul>
<p>在 Hexo 博客中，评论的功能在所有页面都默认开启，但是有的时候我们在页面上不需要显示评论功能，例如分类，标记页面我们并不需要评论功能。可以通过<code>comments</code>属性设置<code>true</code>或<code>false</code>控制该页面或者是文章的评论功能是否打开，如下：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Tags</span><br><span class="line">date: 2021-8-7 13:13:45</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line"><span class="section">comments: false</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>



<ol start="6">
<li><strong>评论头像配置</strong></li>
</ol>
<p>Valine 目前使用的是<a href="http://cn.gravatar.com/">Gravatar</a> 作为评论列表头像。</p>
<p>请自行登录或注册<a href="http://cn.gravatar.com/">Gravatar</a>，然后修改自己的头像。</p>
<p>评论的时候，留下在<a href="http://cn.gravatar.com/">Gravatar</a>注册时所使用的邮箱即可。<del>打不开就翻墙。</del></p>
<p><em><strong>其实还有很多都是“抄作业”，这里直接给“作业”大家照抄就行。</strong></em></p>
<h3 id="看板娘-Live2D"><a href="#看板娘-Live2D" class="headerlink" title="看板娘(Live2D)"></a>看板娘(Live2D)</h3><p><a href="https://www.jianshu.com/p/d72a86209fd5">HEXO+icarus主题 给博客添加看板娘(Live2D)</a></p>
<h3 id="分享功能"><a href="#分享功能" class="headerlink" title="分享功能"></a>分享功能</h3><p><a href="https://blog.csdn.net/qq_29951485/article/details/88667321">Hexo NexT主题中添加百度分享功能</a></p>
<p><em>持续优化，持续更新吧   现在比较大的问题就是首页文章的布局，一篇文章标题+图片占的篇幅太大 文章多了之后没法一目了然。</em></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Next</tag>
      </tags>
  </entry>
  <entry>
    <title>获取网站的Favicon图标的API接口</title>
    <url>/2021/08/08/21080801/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820133021.png" alt="image-20210820133021076"></p>
<span id="more"></span>

<p>每个网站都应该会有一个favicon图片，就是显示在浏览器标题栏上面的小图标，当打开网页或将网页加入收藏时都会显示这个图标。举个例子：<img src="http://api.qyxie.top/getFavicon/www.baidu.com.png" alt="img"></p>
<p>目前获取网站的Favicon图标并显示在你的网页上这个小功能还是很火的。友情链接，导航站点用的很多。</p>
<p>最近在搭建<a href="https://nav.qyxie.top/">个人导航站点</a>就需要这个小功能，原本用的是谷歌提供的接口，但兼容性不是很好呢，甚至get百度返回的都是默认图标，而且都是（16x16）低像素的，非常的不好用。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://www.google.cn/s2/favicons?domain=https://www.baidu.com/</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808225552.png" alt="image-20210808225552577"></p>
<p>网上也有很多别人搭建的接口，缺点就是不稳定，人家要是跑路了，就GG。</p>
<p>项目开源，刚好也有自己的服务器，不如自己动手丰衣足食。</p>
<p><a href="https://github.com/owen0o0/getFavicon">项目地址</a></p>
<p><em><strong>打开宝塔面板-&gt;添加站点</strong></em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808230550.png" alt="img"></p>
<p><em><strong>下载程序到网站目录</strong></em></p>
<p>下载地址：<a href="https://github.com/owen0o0/getFavicon/archive/master.zip">https://github.com/owen0o0/getFavicon/archive/master.zip</a></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808230746.png" alt="img"></p>
<p><em><strong>解压缩</strong></em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808231044.png" alt="image-20210808231044452"></p>
<p><em><strong>域名添加解析</strong></em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808234346.png" alt="img"></p>
<p>就是这么简单，之后，我们测试效果，打开网站形式如：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://api.qyxie.top/getFavicon/get.php?url=https://www.baidu.com</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808231342.png" alt="image-20210808231342711"></p>
<p>有问题的话试试：cache 文件夹给 755 权限。</p>
<p>直接使用API虽然可以获取 favicon图标，但是这个是动态地址，不方便CDN缓存，建议将其伪静态，具体规则如下:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Nginx规则</span><br><span class="line">rewrite ^/getFavicon/(.*)\.png$ /getFavicon/get.php?url=$1;</span><br><span class="line"></span><br><span class="line"># Apache规则</span><br><span class="line">&lt;IfModule mod_rewrite.c&gt;</span><br><span class="line">RewriteEngine On</span><br><span class="line">RewriteRule ^getFavicon/(.*)\.png$ getFavicon/get.php?url=$1 [L]</span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure>



<p>如果你跟我一样使用的是Nginx和宝塔面板，<em>站点-&gt;设置-&gt;伪静态</em>，添加Nginx规则并保存即可。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808232158.png" alt="image-20210808232158331"></p>
<p>完成了伪静态规则设置之后，获取网站Favicon图标API接口就变为:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://api.qyxie.top/getFavicon/www.baidu.com.png</span><br></pre></td></tr></table></figure>



<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808233533.png" alt="image-20210808233533337"></p>
<p><em>tips： .png结尾，前面不用加http(s)!!!</em></p>
]]></content>
      <categories>
        <category>实用工具</category>
      </categories>
      <tags>
        <tag>API</tag>
        <tag>favicon</tag>
      </tags>
  </entry>
  <entry>
    <title>简易的随机图片API接口</title>
    <url>/2021/08/06/21081401/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820133039.png" alt="image-20210820133038936"></p>
<span id="more"></span>    



<p><a href="https://nav.qyxie.top/">个人网站导航</a>的首页最开始用的是本地的一张图片，图片每天都是重样的是在是看得心烦意乱，我希望每次访问都能看到不一样的风景。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210814104845.png" alt="image-20210814104844872"></p>
<p>可以用别人的API接口，但是毕竟是别人的，大多图片不能自己选择，而且不稳定。反正有服务器，搭建起来也非常的简单，自己搞一搞。</p>
<p><em><strong>上传文件到图床，获取URL。</strong></em>（没有个人图床的可以用免费图床）</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210814110659.png" alt="image-20210814110659336"></p>
<p><em><strong>打开宝塔面板-&gt;添加站点</strong></em>域名记得解析。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210808230550.png" alt="img"></p>
<p><em><strong>新建目录</strong></em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210814111141.png" alt="image-20210814111140943"></p>
<p><em><strong>创建一个<code>tu.php</code>,写入代码。</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//存有美图链接的文件名img.txt</span><br><span class="line">$filename = &quot;img.txt&quot;;</span><br><span class="line">if(!file_exists($filename))&#123;</span><br><span class="line">    die(&#x27;文件不存在&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//从文本获取链接</span><br><span class="line">$pics = [];</span><br><span class="line">$fs = fopen($filename, &quot;r&quot;);</span><br><span class="line">while(!feof($fs))&#123;</span><br><span class="line">    $line=trim(fgets($fs));</span><br><span class="line">    if($line!=&#x27;&#x27;)&#123;</span><br><span class="line">        array_push($pics, $line);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//从数组随机获取链接</span><br><span class="line">$pic = $pics[array_rand($pics)];</span><br><span class="line"></span><br><span class="line">//返回指定格式</span><br><span class="line">$type=$_GET[&#x27;type&#x27;];</span><br><span class="line">switch($type)&#123;</span><br><span class="line"></span><br><span class="line">//JSON返回</span><br><span class="line">case &#x27;json&#x27;:</span><br><span class="line">    header(&#x27;Content-type:text/json&#x27;);</span><br><span class="line">    die(json_encode([&#x27;pic&#x27;=&gt;$pic]));</span><br><span class="line"></span><br><span class="line">default:</span><br><span class="line">    die(header(&quot;Location: $pic&quot;));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



<p><em><strong>创建一个<code>img.txt</code>，写入图片URL。</strong></em></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210814114313.png" alt="image-20210814114313221"></p>
<p>随机图片接口 <a href="http://api.qyxie.top/tu/tu.php">http://api.qyxie.top/tu/tu.php</a></p>
<p>好了，在网页源码中调用就行了。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210814115323.png" alt="image-20210814115323334"></p>
<p>具体效果☞<a href="https://nav.qyxie.top/">一个主页，整个世界</a>  F5刷新更换横幅图片。</p>
]]></content>
      <categories>
        <category>实用工具</category>
      </categories>
      <tags>
        <tag>API</tag>
      </tags>
  </entry>
  <entry>
    <title>网站ICP备案与公安备案</title>
    <url>/2021/08/19/21081901/</url>
    <content><![CDATA[<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820135606.png" alt="image-20210820135606772"></p>
<span id="more"></span>

<p>在阿里云，腾讯云等购买国内服务器，如果是用于web访问的话就必须备案后才能使用（无需域名的情况除外）。否则会提示“该网站暂时无法访问”。但如果不需要web访问的话，目前看来是无需备案的。</p>
<p>也可以买国外的服务器，好处是不需要备案，但是一般国内用户访问国外服务器，速度会非常慢，然后访问服务器也时常变的不稳定，这种情况还是选择国内云服务器比较稳妥。</p>
<h3 id="备案是什么？"><a href="#备案是什么？" class="headerlink" title="备案是什么？"></a>备案是什么？</h3><p>所谓备案，就是我们常说的网站备案，备案的全称叫做ICP备案。ICP也就是Internet Content Provider，指的是网络内容服务商 ，即向广大用户综合提供互联网信息业务和增值业务的网络运营商。ICP备案是信息产业部对网站的一种管理，为了防止非法网站。就像是官方认可的网站，就好像开个小门面需要办营业执照一样。</p>
<p>备案的目的就是为了防止在网上从事非法的网站经营活动，打击不良互联网信息的传播。根据中华人民共和国国务院令第291号《中华人民共和国电信条例》、第292号《互联网信息服务管理办法》（简称ICP管理办法），国家对提供互联网信息服务的ICP实行许可证制度。ICP证是网站经营的许可证，根据国家,互联网信息服务管理办法》规定，经营性网站必须办理ICP证，否则就属于非法经营。</p>
<h2 id="备案、域名、服务器之间的关系"><a href="#备案、域名、服务器之间的关系" class="headerlink" title="备案、域名、服务器之间的关系"></a>备案、域名、服务器之间的关系</h2><p>其实网站备案、ICP备案、域名备案、服务器备案本质上指的都是给网站申请ICP备案号。</p>
<ul>
<li>只有域名+没有国内服务器空间=不能备案</li>
<li>没有域名+只有国内服务器空间=不能备案</li>
<li>有域名+有国内服务器空间=可以备案</li>
</ul>
<p>备案是针对服务器空间的，但是备案号是挂在域名上的，可以说备案如果没有空间或者没有域名都备案不了。简单来说，就是完成ICP备案，域名和服务器缺一不可。</p>
<h3 id="找谁办理备案"><a href="#找谁办理备案" class="headerlink" title="找谁办理备案"></a>找谁办理备案</h3><p>备案正常情况下是找服务器/虚拟主机的提供商办理备案，你使用了相关服务商提供的网络服务器，服务商自然会提供相应的备案服务。为了方便备案请尽量保证域名和服务器的提供商一致。如果不是，请保证域名和服务器的实名认证一致。</p>
<h3 id="举个例子："><a href="#举个例子：" class="headerlink" title="举个例子："></a>举个例子：</h3><p>阿里云轻量应用服务器购买时长在3个月及以上（含续费），赠送备案服务号5个。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210819232653.png" alt="image-20210819232653671"></p>
<p><a href="https://help.aliyun.com/knowledge_detail/36922.html?source=5176.11533457&userCode=28kqeewo">首次备案流程-备案-阿里云</a></p>
<p>按照以上流程，阿里云初审用时2天，工信部审核用时9天。（仅供参考）</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210819233527.png" alt="image-20210819233527311"></p>
<p>网站开通后，请在网站首页底部中间位置放置您的ICP备案号并链接至”<a href="https://beian.miit.gov.cn&quot;./">https://beian.miit.gov.cn&quot;。</a> 并在开通之日起30日内登录<a href="http://www.beian.gov.cn/portal/index">全国互联网安全管理平台</a>提交公安联网备案申请。获取《<a href="https://help.aliyun.com/knowledge_detail/36981.html">公安备案信息填写指南</a>》。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210819233627.png" alt="image-20210819233627212"></p>
<h3 id="公安备案"><a href="#公安备案" class="headerlink" title="公安备案"></a>公安备案</h3><p>网站备案是根据国家法律法规需要网站的所有者向国家有关部门申请的备案，公安局备案是其中一种。公安局备案一般按照各地公安机关指定的地点和方式进行，操作流程会比ICP备案流程简单，主要是已登记为主。</p>
<p>公安备案不做后果咱也不是很清楚（ICP备案不做域名直接访问不了），但是每个公民都有配合义务，在条例层面是「必须」遵守。</p>
<p>注册登录<a href="http://www.beian.gov.cn/portal/index">全国互联网安全管理平台</a></p>
<h5 id="开办主体管理，提交审核"><a href="#开办主体管理，提交审核" class="headerlink" title="开办主体管理，提交审核"></a>开办主体管理，提交审核</h5><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210819235154.png" alt="image-20210819235154678"></p>
<p>等待审核通过</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210819235817.png" alt="image-20210819235817040"></p>
<h5 id="新办网站申请，提交审核"><a href="#新办网站申请，提交审核" class="headerlink" title="新办网站申请，提交审核"></a>新办网站申请，提交审核</h5><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210819235855.png" alt="image-20210819235855616"></p>
<p>新办网站申请信息填写参考<a href="https://help.aliyun.com/knowledge_detail/36981.html">阿里云-公安备案信息填写指南</a></p>
<p>公安备案审核时间/流程似乎取决于你当地的公安机关，网警，反正我备案的时候直接在网站上提交资料和照片,不到十天就通过了。但是听说也要求本人到携带身份证到当地公安机关进行备案的。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820000130.png" alt="image-20210820000130624"></p>
<p>​    <img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820000330.png" alt="image-20210820000330671"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820001339.png" alt="image-20210820001339754"></p>
<p>将公安备案编号HTML代码稍作修改，加上ICP备案编号，加上备案编号图标。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">&lt;a href=&quot;https://beian.miit.gov.cn/&quot; style=&quot;display:inline-block;text-decoration:none;height:20px;line-height:20px;&quot;&gt;&lt;p style=&quot;float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;&quot;&gt;闽ICP备2021011133号-1&lt;/p&gt;&lt;/a&gt;</span><br><span class="line">&lt;span class=&quot;post-meta-divider&quot;&gt;|&lt;/span&gt;</span><br><span class="line">&lt;a target=&quot;_blank&quot; href=&quot;http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=35052402000312&quot; style=&quot;display:inline-block;text-decoration:none;height:20px;line-height:20px;&quot;&gt;&lt;img src=&quot;https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210805124438.png&quot; style=&quot;float:left;&quot;/&gt;&lt;p style=&quot;float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;&quot;&gt;闽公网安备 35052402000312号&lt;/p&gt;&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>



<p>大家也可以直接复制我的代码，以下几处自行修改。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820001931.png" alt="image-20210820001930929"></p>
<p>打开<code>themes/next/layout/_partials/footer.swig</code></p>
<p>将代码放到合适的位置</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820002328.png" alt="QQ图片20210820002320"></p>
<p>效果展示：</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820002411.png" alt="image-20210820002411893"></p>
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>备案</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo部署到服务器CSS样式失效</title>
    <url>/2021/08/20/21082001/</url>
    <content><![CDATA[<h3 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h3><p>今天花了一下午时间，博客添加了随机背景图<code>background</code>，修改了内容，菜单，评论等的透明度，整个博客变得有点花里胡哨—_—|| 。以后还是少做些主题优化，专心写文章实在。然后我<code>hexo d</code>部署到服务器，刷新，emmmmm，好像没有什么变化。重新上传，刷新，等待，刷新，依旧没有变化。</p>
<span id="more"></span>

<p>我博客<code>github page</code>和阿里云服务器都有部署 打开<a href="https://qyxie0802.github.io/">https://qyxie0802.github.io/</a>  发现CSS样式居然是正常的。我也不知道为什么部署到github正常，部署到服务器就CSS版本混乱了呢？？？</p>
<p>有问题找度娘，经过一番搜索，找到了<a href="https://segmentfault.com/a/1190000022196027">完美解决：Hexo Next主题本地可预览CSS，但部署到网站CSS失效问题！</a></p>
<p>多的我也看不懂，直接解决问题好了。</p>
<p>删除<code>themes/next/layout/_partials/head.swig</code>中的<code>main.css?v=&#123;&#123; version &#125;&#125;</code>后面的<code>?v=&#123;&#123; version &#125;&#125;</code></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820164711.png" alt="image-20210820164711269"></p>
<p>删除后如下图所示：</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820164748.png" alt="image-20210820164747984"></p>
<p>重新生成静态文件，部署到服务器，总算是对头了。</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Next</tag>
      </tags>
  </entry>
  <entry>
    <title>如何设置浏览器的默认首页</title>
    <url>/2021/08/20/21082002/</url>
    <content><![CDATA[<h4 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h4><p>浏览器作为上网冲浪工具，每台电脑必不可少，有时我们为了方便上网需要一打开浏览器就要显示自己想要的网页，这个就要用到浏览器的默认首页设置功能。</p>
<p>我二次开发了一个简单的<a href="https://nav.qyxie.top/">个人网址导航</a>，免费为大家收录精选的网站，指引大家愉快上网，希望大家积极提交收录申请，并将此网页设置为浏览器的默认首页。</p>
<span id="more"></span>

<p>网址：<a href="https://nav.qyxie.top/">https://nav.qyxie.top/</a></p>
<ol>
<li><h4 id="Gogle-Chrome"><a href="#Gogle-Chrome" class="headerlink" title="Gogle Chrome"></a>Gogle Chrome</h4></li>
</ol>
<p>右上角 -&gt; 设置 -&gt; 启动时 -&gt; 打开特定网页或一组网页 -&gt; 添加新网页</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820225836.png" alt="image-20210820225836555"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820230249.png" alt="image-20210820230249451"></p>
<p>外观 -&gt; 显示“主页”按钮</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820230739.png" alt="image-20210820230739006"></p>
<p>就是左上角的这个，设置跳转</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820230904.png" alt="image-20210820230904283"></p>
<ol start="2">
<li><h4 id="Microsoft-Edge"><a href="#Microsoft-Edge" class="headerlink" title="Microsoft Edge"></a>Microsoft Edge</h4></li>
</ol>
<p>右上角 -&gt; 设置 -&gt; 开始、主页和新建标签页</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820230550.png" alt="image-20210820230550677"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820230653.png" alt="image-20210820230653035"></p>
<ol start="3">
<li><h4 id="Internet-Explorer"><a href="#Internet-Explorer" class="headerlink" title="Internet Explorer"></a>Internet Explorer</h4></li>
</ol>
<p>右上角 -&gt; Internet选项 -&gt; 常规 -&gt; 主页</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820231148.png" alt="image-20210820231148136"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820231415.png" alt="image-20210820231415538"></p>
<ol start="4">
<li><h4 id="手机浏览器"><a href="#手机浏览器" class="headerlink" title="手机浏览器"></a>手机浏览器</h4></li>
</ol>
<p>设置 -&gt; 主页设置 -&gt; 编辑自定义主页</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210820232127.png" alt="image-20210820232127516"></p>
<p>多的不说，其他大差不差，大家都是聪明人，不用讲的太明白(<em>ﾟ∀ﾟ</em>)！ </p>
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>Chrome</tag>
        <tag>IE</tag>
        <tag>Edge</tag>
      </tags>
  </entry>
  <entry>
    <title>网恋照妖镜</title>
    <url>/2021/08/21/21082102/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="136370df2d7edc4bc44ccefa0ac06a1e486335740de381aa3ee55e4648760098">f026650ac6b38bfb9a9129bfd7e0704ef5a12d879d6289b0678aeabd316e5a98addb47d7386d933d2ba10735f9ea959fb548fc18e983bcadfdbaba152fb6eaf3186ba28ea709ff25a787b42078fb7cc0306b6d2a4b61a32e92a2328c982ef26019344605b87cf34de432b0a945b0249186e4f673def96271369dc044340f1ca898e98c5e7f9bd3d95c90c879fb44f4d35c96e27a8b1f6bcdf992fa79c326343e296fa2c690ba5206fecd66a840f7dfe7627e49746a9f0b154e250179874cbbfe2e5e2aee84ebac6dcf96b47aa744a1c5d0fca75c1be68f1d6956366fce48d695f6bbbc383052ba1b162b2638f00369ba3db7fabb7ec1ad7bb8ca828b44fdb17e3893a3e1c34921e04883fdd8fbef94b4dc1fa74d6a6ac79f0dbe3074c6845a28bf2e9c3cee52127e220cce2cb7c38a5af45cfbc7f929571dfe7239c8950feed5efc01ed7f45acfd5230bf6b6325231c8fca0b19d80c07e95599813678407878286e693238fdff317bcca6b026debb99be5112752343efb70af7d3654e3a363de200c33544708c42154f442c533eff9e2567a2ec0f24c462543e0fc0b68d9eda2f76b5665ec280abd43462c120264e95af690ac473fb67ad7441ae2824af3fc140d19af57d17e92c76d031529ecc5c8700b4d5e3792f0fda00511f1e84bdbf946804375c53c8564ec80a4e71abb10600cd316ce7804875d524414ef9c7aa61a2672c7bd9f27a402307636a3d7d17a94c1f12780e24425d7367b95c6bf8d1f964a6acf0cb910a6f195aa2a02fb276406dedf0799fc831d87c4bc1e7822767397866c290d1b2d18727abfbab5153cf7c246d0cd5cafb5554c67be89a13fec71b9c8b3dbada234843aaf8cdb32b5e3da4f64b34e1c4bcfddd2814a1ef3250bd0a1bb161843b27f4658484a1593d98878cf1fba33e011cbb25afb577435727a82091e53fe5d9b6ac44a6f0b5ae18735a4c574b090caf53fec64e2c8828a1d66a23084dd95021495ca8142df80cfc3bd02da38f3bb5e0bbc8eb7e4103a138a2510444de4e38087dfa0be1e3bfc85f706386e93e1bf720ac7e9c8d00bcb7a0ef0762d4d8acf5336a8ec45c1d31d4f22d4480e8d439218ade8698ac5b1269dec2fb6feab1c07305176b70233161fc151a77407d18e0222d25baf202c6401d5933b0cf0bf911ec42427b7e096c8126aa11c594d835e00f9a9666b4fe0ef16fdf2ea58c93ccd1b1f8c9fd8dd17c92127fa30498c211645674d44e8f584ee17a1fdf3751f4a89c901b8d380522bf4599f5ac70ae746b379f563df98136b2fd4484cddd0157b51a238b0585555749c7cd8d3092fdb10ad6e54229948b10b31f3432b10d43900682e6bc17f09979f855d9d143aabc6cacdda2d752d282845dedaf11922e5242e7b5cba6c4f3eedb0041424e0401a6de328da307bdb9d9c705981e1251a8bdff317ff9c5d51b621c0b7a5d3cde0d084fe09130025b90eb5f9e9d5494f81c99900505bc720189db2954d2c4412fd4fbb8e657c6544c0186ef421c394b04742036e941f582ee75619a320483a4ac417f23ae0b5bb711e3fe609044d11294dcf763a2bd3145c8428e997cbe4ad11a5663172c0393286d2ea6fca640778502f82e9dff0fcff5541ffe491d7c281994ecf9b52ca9c9b5c05e7e71cbaae1cd634ae4553c87fbb9e18f78f655650fba1b96355daeba195fee20389bb03658d33d0fc500dc3d2c860bd56881d0529a803adcd4a0c224d51ceaa3cd601d7c652e0c5b44aeafa072c42fd172d777ff1ba37adabf46a9c97ae4d0e47acafee85f1a92f63d227807e03fffd9a1638af1ce9fe50b62447037656a925f4457739a81f6135f9019d3c7c7bb603c987d5dfe40b5a69708a2b236a47301356a10188cf9b8fbade0e9e10fc0f7aa17a2f75f1604ba234d23d347bc43116387f7bf57b726a20efa97a5589f368fcd39100623b0b4407e9fc99287ac65ef2d18cbeade4075c1d9b06a12925747ccb50abd1f988d3733071a7696d967a45226c0a31b0e327d82bbc7197d8070020bb128cb96b587b41ccdb43667e3a14cff91eecec64b244bcdf5cb07a455c898860994c59c9b33539e92a03fece27deb90fc816c2eea165854efa4397f77643577ae367200fb3d0c4462006ce4fd1a23952cbdd03230e9e936c18f2dd90bfb6958c5ba3a2f28b5c6d3a8a52135f2636071219c33b5e0e97be91f67e81036a7d61dcfa49a46b80c8323147022faed1897db278cbabc5b5173104bfc8ce8e5a5645ac4099f7c8a230d9dda2dddd4fc513b387c7d61bb5ddb2ef17c203ff94e8e53a8c5722c4349bb337af59e3a5ec0139abbc5f635014e8dbeb808e1f70b418fa4e28e652d1e990b018aa5df117606dc4739bc046637ba7ec64baca444d0fd08b61ea5a3209d6a703ace64ad1f37ff6fdbd512ece7ac016e210e0d7c4579a1a813c33185c37015bbbca18b9d9502b8878fa64e5d5e1652dff397fcc5d9c2a8e2961cfce93fccdffb378d06bdef316fef6898bac3100de49b186f9c0c0c3f343240070d14e985729c4c2241396ea77f4ac8e170359f55d2100b453faaa6808b33d7f42f85273959ff45abb23557dd4481ea11fd2730c01aa39df8042abec71081d2f364ac49d252bd300c307ccef910474f37ccf5c7cda22c39bdce0a4e62d0d670cd72b29759ca82cf668f415cb7af469767c131387faafddaf238bf700adaef2c169624405926d48d00d9d349d1d1fbe26c5ea54e292646ba5fd16b34042f53fc4f5088a759170a907bd881cddaf1144161a4f86f25ede648b05551a33b0ba7eca17a41129d150bb2330ca45181be54a84c4ddc1317e39fc693aa3949fff994e430b02ee555be95b323363526de1ada633a2744d077edc9696cd0bbf5425536a33d0264c59512ae29f641ed839f055f936ba861cb97b9d6990063d7c22b98c5a4866b0714a28d04edd5a8190adc50c8df5f8579861076f92b9e77fdd4c6c650e85b13179c6f931077c11209d18d06e232962388423524c00c7ca30c4dbcba645700b05fab8dcd0ebcdcbe3de7671f65b003cc3af10976e84c1d6fc671fab03fe36351da342544eaef5fb9b500d2d22b6b21c527be28bf549e4a42894ca28ab134095eb537ecb9cfab210a00483b300c03c6811543df49620c84baf3c5d7e07d9e397d455b5ddc69174476aa6b870380579b8ab8f0460a4d25b1047364f825621ea18b9418f8a0ae57d24375b6d8c41118ad207d2bd16c73bdac213a840a1244a3a2f8e4bc748de2aa13b144a541e156063200adc39131fc44f010e66b534401307e80bfb94fd35eea32d6ded90330e9094099d5024e33f81d9e2266457683f768671334df0fe26bce92e56122e33cd4443cff3094bafb567ee1dfeaaa95849552d4352cb442cc2b6ee79b223ee567b6c8571e02476abb6934f443b058a0e7312e68d1c53889c0e1b76dba23af7aa06ee6682ab82bd0da869398643776d778a52cfb5a39992efe737fd21ad676176eb852af6b70bfeb0a35a5f31967eb8fc153ca75daac1cc09c126371a25daf7e48612e3a6bfde2415ab56e4c35781444314318da6700ad7ec4452573a0bb5debe3072ac12f1331eee71315ebf6d156e7428208b7295d8a50a23f0d483eebedc1b411d846513e9e51ebb7ff7265335e322be7a0aef9039934d1d307a38f96f1549c29abf22b9cde4e7933c9022a8ab79099e7baeedb020c8df335ef9e97b6bafef22202fe02950010add3ada128771516fa77362c8dce0badd15c87f3135ecdd03cb0951b8e598f33f0c79f1cefe9ad98ccacd3c7fcc48e2ae3d93f82e4f6f4805c1d10184152a99fb362e8b3a4ef5a1ee3ad8144d2194e6a2e7884afae9fe36da07c7a314ba73e90400715fcdc984f07bbba56061c6365415c8d0533a5f85a2a6c479d887b66aa932e0f0eb6d5da3fcb2df6d65987ef33124bb51f8adff217a290a8d12c60206ba33a9891aa00c01a85f00bcb93ab71350e71eef7d68672f003d</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">输入密码，查看文章</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>实用工具</category>
      </categories>
      <tags>
        <tag>mirror</tag>
      </tags>
  </entry>
  <entry>
    <title>Next主题文章目录中文锚点失效</title>
    <url>/2021/08/22/21082201/</url>
    <content><![CDATA[<h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>Hexo 安装 Next 主题后, 文章侧边栏目录<strong>中文目录</strong>锚点点击后无法正常跳转，而纯英文锚点没有问题。</p>
<span id="more"></span>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822203128.png" alt="image-20210822203128277"></p>
<h3 id="问题跟踪"><a href="#问题跟踪" class="headerlink" title="问题跟踪"></a>问题跟踪</h3><p>浏览器F12 debug一下，控制台有报错不过看不懂，只知道<code>post-details.js</code>有问题。还能咋样，有问题找度娘。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822203927.png" alt="image-20210822203911332"></p>
<h3 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h3><p>编辑<code>/themes/next/source/js/src</code> 目录下的 <code>post-details.js</code>,大概76行，添加下面代码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">targetSelector = decodeURI(this.getAttribute(&#x27;href&#x27;))</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822204317.png" alt="QQ图片20210822204306"></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>为博客Valine评论系统添加邮件提醒和后台管理</title>
    <url>/2021/08/22/21082202/</url>
    <content><![CDATA[<h3 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h3><p>​        之前在<a href="https://www.qyxie.top/2021/08/06/21080601/#%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F">Hexo之Next主题优化改造</a>中已经添加了评论系统，但是没有邮件通知，别人评论不能第一时间知道（虽然也不会有人评论）。这功能吧，可以不要，但不能没有。</p>
<span id="more"></span>

<h3 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h3><p>博客添加valine评论系统不再赘述，参考之前的配置<a href="https://www.qyxie.top/2021/08/06/21080601/#%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F">Hexo之Next主题优化改造——评论系统</a>。</p>
<h3 id="配置项"><a href="#配置项" class="headerlink" title="配置项"></a>配置项</h3><p>LeanCloud -&gt; 云引擎 -&gt; WEB -&gt; 设置 -&gt; 自定义环境变量 -&gt; 添加变量</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822210329.png" alt="image-20210822210329228"></p>
<table>
<thead>
<tr>
<th>变量</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>SENDER_NAME</td>
<td>qyxie</td>
<td>评论提醒 [可选] 发件人</td>
</tr>
<tr>
<td>SITE_NAME</td>
<td>滑稽树</td>
<td>[<em>必填</em>] 网站名称</td>
</tr>
<tr>
<td>SITE_URL</td>
<td><a href="https://www.qyxie.top/">https://www.qyxie.top</a></td>
<td>[<em>必填</em>] 网站地址，<strong>最后不要加 /</strong></td>
</tr>
<tr>
<td>SMTP_PASS</td>
<td>xxxxxxxxxxxxxxxx</td>
<td>[<em>必填</em>] SMTP登录密码/授权码，不是邮箱的登陆密码，请自行查询对应邮件服务商的获取方式。</td>
</tr>
<tr>
<td>SMTP_SERVICE</td>
<td>QQ</td>
<td>[<em>必填</em>] 邮件服务提供商，支持 QQ、163、126、Gmail 以及 更多。</td>
</tr>
<tr>
<td>SMTP_USER</td>
<td><a href="mailto:&#120;&#x78;&#120;&#x78;&#120;&#x78;&#x78;&#120;&#64;&#113;&#x71;&#x2e;&#x63;&#111;&#109;">&#120;&#x78;&#120;&#x78;&#120;&#x78;&#x78;&#120;&#64;&#113;&#x71;&#x2e;&#x63;&#111;&#109;</a></td>
<td>[<em>必填</em>] SMTP登录用户，一般为邮箱地址</td>
</tr>
</tbody></table>
<h3 id="SMTP授权码"><a href="#SMTP授权码" class="headerlink" title="SMTP授权码"></a>SMTP授权码</h3><p>我用的是QQ邮箱，其他邮件服务商自己百度。</p>
<p>登录<a href="https://mail.qq.com/">QQ邮箱</a> -&gt; 设置 -&gt; 账户 -&gt; 开启SMTP服务</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822211720.png" alt="image-20210822211720760"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822211739.png" alt="image-20210822211739670"></p>
<p>根据提示获取授权码，写入的时候<em><strong>不要带空格不要带空格不要带空格</strong></em></p>
<h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><p>LeanCloud -&gt; 云引擎 -&gt; WEB -&gt; 部署 -&gt; 部署项目 -&gt; Git部署   ，输入<code>https://github.com/zhaojun1998/Valine-Admin.git</code></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822212055.png" alt="image-20210822212054925"></p>
<p>分支或提交填写master，点击部署</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822212316.png" alt="image-20210822212316905"></p>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p>当收到评论时，QQ邮件提醒</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822212626.jpg" alt="QQ图片20210822212521"></p>
<h3 id="后台评论管理"><a href="#后台评论管理" class="headerlink" title="后台评论管理"></a>后台评论管理</h3><p>数据存储 -&gt; 结构化数据 -&gt; _User -&gt; 添加行   添加后台管理用户，<code>uesrname</code>,<code>password</code>,<code>email</code>三个字段就行</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822214549.png" alt="image-20210822214549875"></p>
<p>设置 -&gt; 域名绑定，填写一个自己域名的二级域名，配置云引擎域名</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822232011.png" alt="image-20210822232011572"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822232211.png" alt="image-20210822232211699"></p>
<p>LeanCloud -&gt; WEB -&gt; 设置 -&gt; 自定义环境变量 -&gt; 添加变量</p>
<p><code>ADMIN_URL</code>：<code>刚刚绑定的域名</code>，<strong>添加后重新手动部署</strong></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822232345.png" alt="image-20210822232345575"></p>
<p>访问域名，管理评论</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210823094953.png" alt="image-20210823094953512"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210823113800.png" alt="image-20210823113759964"></p>
<h3 id="配置自动唤醒"><a href="#配置自动唤醒" class="headerlink" title="配置自动唤醒"></a>配置自动唤醒</h3><p><strong>免费版的LeanCloud是不能24小时运行的，每天必须休眠 6 个小时，30 分钟内没有外部请求，则休眠，需要设置定时休眠来保证大多数时间邮件服务是正常的。</strong></p>
<p>云引擎 -&gt; 定时任务 -&gt; 创建定时任务</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822232504.png" alt="image-20210822232504769"></p>
<p>表达式<code>0 */20 7-23 * * ?</code>表示为7-23时每20分钟</p>
<p><strong>重启服务</strong>生效</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210822233626.png" alt="image-20210822233626036"></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>valine</tag>
        <tag>LeanCloud</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo文章加密</title>
    <url>/2021/08/21/21082101/</url>
    <content><![CDATA[<h4 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h4><p>​        博客中可能有些文章是个人情感宣泄、敏感内容或收费技术等，不方便公开，需要对文章进行加密处理。而Next这个主题可谓是包办了几乎所有的需求，却偏偏没有集成<strong>文章加密功能</strong>。但俗话说的好，办法总比困难多。</p>
<span id="more"></span>

<h4 id="方法一："><a href="#方法一：" class="headerlink" title="方法一："></a>方法一：</h4><p>编辑<code>/themes/next/layout/_partials/head.swig</code>在如下位置添加代码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    (function()&#123;</span><br><span class="line">        if(&#x27;&#123;&#123; page.password &#125;&#125;&#x27;)&#123;</span><br><span class="line">            if (prompt(&#x27;请输入密码&#x27;) !== &#x27;&#123;&#123; page.password &#125;&#125;&#x27;)&#123;</span><br><span class="line">                alert(&#x27;密码错误&#x27;);</span><br><span class="line">                history.back();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210821143327.png" alt="image-20210821143327571"></p>
<p>之后，在你想要加密的文章的头文件里添加上<code>password: xxxxxx </code>即可。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210821143828.png" alt="image-20210821143828921"></p>
<p>演示：</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210821144043.png" alt="image-20210821144043245"></p>
<p>问题：</p>
<ul>
<li><p>丑。调用浏览器的UI，各个平台的样式不统一。</p>
</li>
<li><p>容易被破解。前端的验证，都是浮云。有心之人想要破解的话那不是分分钟的事。</p>
</li>
</ul>
<h4 id="方法二："><a href="#方法二：" class="headerlink" title="方法二："></a>方法二：</h4><p>使用大神Hexo插件。</p>
<h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure>

<h5 id="启用"><a href="#启用" class="headerlink" title="启用"></a>启用</h5><p>在站点配置文件添加如下代码，启用插件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">encrypt:</span><br><span class="line">    <span class="built_in">enable</span>: <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h5 id="文章配置"><a href="#文章配置" class="headerlink" title="文章配置"></a>文章配置</h5><p>在你的文章的头部添加上对应的字段，如 password, abstract, message</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210821145640.png" alt="image-20210821145640641"></p>
<ul>
<li>password: 是该博客加密使用的密码</li>
<li>abstract: 是该博客的摘要，会显示在博客的列表页</li>
<li>message: 这个是博客查看时，密码输入框上面的描述性文字</li>
</ul>
<h5 id="自定义"><a href="#自定义" class="headerlink" title="自定义"></a>自定义</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">encrypt:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  default_abstract: 文章默认摘要</span><br><span class="line">  default_message: 文章默认描述文字</span><br></pre></td></tr></table></figure>

<p>这样，对于每一篇需要加密的文章就不必都在在头部添加 <strong>abstract</strong> 和 <strong>message</strong> 字段了，脚本会自动添加默认的内容填充。 而你在文章头部的配置优先级高于<strong>站点配置文件</strong> 的 <strong>default</strong>配置，会覆盖它。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210821151528.png" alt="image-20210821151528503"></p>
<p><em>tips:本地预览输入密码可能会无响应，因为需要https协议，部署到服务器就没问题啦。</em></p>
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>Next</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>记一次debian10的安装</title>
    <url>/2021/08/27/21082701/</url>
    <content><![CDATA[<h3 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h3><p>久久总能碰上一次Debian系统安装的需求，其实跟其他linx系统都差不多，但时间久了总能忘掉一些细节，比如网卡配置文件的路径等等。记录下，有空看看，加强记忆。</p>
<span id="more"></span>

<h3 id="系统安装"><a href="#系统安装" class="headerlink" title="系统安装"></a>系统安装</h3><p><a href="https://www.debian.org/">Debian官网</a></p>
<p>“造轮子”的事我就不干了，直接上链接。</p>
<p><a href="https://linux.cn/article-11083-1.html?pr">图解 Debian 10（Buster）安装步骤</a></p>
<p>几乎就是回车回车，值得注意的是选择电脑桌面环境和其它软件包时，<em><strong>SSH Server</strong></em> 还是√上吧，省的进系统还要装。</p>
<p>安装 <em><strong>Grub 引导加载程序</strong></em>，选择<code>Yes</code>。其他选择<code>No</code>。</p>
<p>进系统后</p>
<h3 id="网卡配置"><a href="#网卡配置" class="headerlink" title="网卡配置"></a>网卡配置</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/network/interface</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#配置网卡eth0的IP地址</span><br><span class="line">auto eth0 </span><br><span class="line">iface eth0 inet static 静态/dhcp</span><br><span class="line">address 192.168.2.147 ip地址</span><br><span class="line">netmask 255.255.255.0 子网掩码</span><br><span class="line">gateway 192.168.2.1 网关</span><br></pre></td></tr></table></figure>

<p>或者使用nano编辑器   “Ctrl+O” “Ctrl+X” 保存退出</p>
<p>重启网卡生效</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/etc/init.d/networking restart</span><br></pre></td></tr></table></figure>



<h3 id="设置DNS"><a href="#设置DNS" class="headerlink" title="设置DNS"></a>设置DNS</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo &quot;nameserver 110.80.137.52&quot; &gt;&gt; /etc/resolv.conf</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cp /etc/resolv.conf /etc/resolv.conf.bak # 备份原有dns配置文件</span><br><span class="line">vi /etc/resolv.conf # 编辑DNS配置文件</span><br><span class="line">nameserver 110.80.137.52 # 设置首选dns</span><br><span class="line">nameserver 114.114.114.114 # 设置备用dns</span><br></pre></td></tr></table></figure>



<h3 id="开启root远程登录"><a href="#开启root远程登录" class="headerlink" title="开启root远程登录"></a>开启root远程登录</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vi /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure>

<p>PermitRootLogin no -&gt;  PermitRootLogin yes</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210827232508.png" alt="image-20210827232508198"></p>
<p>重启ssh生效</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/etc/init.d/ssh restart</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>Debian10</tag>
      </tags>
  </entry>
  <entry>
    <title>仙境传说 绯雨骑士团H5公益服</title>
    <url>/2021/08/28/21082901/</url>
    <content><![CDATA[<h3 id="游戏介绍："><a href="#游戏介绍：" class="headerlink" title="游戏介绍："></a>游戏介绍：</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829085126.png" alt="image-20210829085125752"></p>
<p>绯雨骑士团是一款二次元挂机游戏，将二次元和挂机结合起来，为玩家打造一个休闲养肝的游戏。只要轻轻点击，即可进行游戏，无需繁琐操作，任何人都可以轻松玩转。</p>
<p>黑衣剑士吉莲、超能法师爱丽丝、无敌射手伊芙、万能骑士爱德华……各职业英雄全员等候召令！守护您的二次元情怀，即刻，出发！</p>
<p>独家剧情！一手资料，先睹为快！</p>
<p>召集组队，为守护而战。更可多人同屏华丽战斗，宏大绝杀场面。</p>
<p>守护世界的正义！成为一名赏金猎人吧！你可以和你的好友一起讨伐红名通缉犯。让妹纸为你侧目，为正义战斗！</p>
<span id="more"></span>

<h3 id="游戏地址："><a href="#游戏地址：" class="headerlink" title="游戏地址："></a>游戏地址：</h3><p><a href="http://82.156.19.29/">http://82.156.19.29/</a>  </p>
<p>手机、平板、PC三屏联动！都能玩！是兄弟就来砍我。</p>
<p>注册的时候<strong>用户名</strong>和<strong>密码</strong>是比较随意的，但请务必记住！无法找回。</p>
<p>过了新手引导点击头像可以改<strong>名字</strong>，<strong>头像</strong>，<strong>声音</strong>，<strong>画质</strong>！其他的自己探索啦~</p>
<p>非盈利纯娱乐。无限充值。过新手任务后修改昵称后将<strong>昵称</strong>在本文下方评论告诉我，我给你设置授权密码。（评论的时候请留下可接收邮件的正确邮箱，设置好授权密码我会回复你）</p>
<p>访问<a href="http://82.156.19.29/gm">http://82.156.19.29/gm</a>  玩家后台自己充值</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210830123935.png" alt="image-20210830123935694"></p>
<h3 id="网页添加到桌面："><a href="#网页添加到桌面：" class="headerlink" title="网页添加到桌面："></a>网页添加到桌面：</h3><p>这样就不用每次打开浏览器输入网址啦~</p>
<ul>
<li><strong>手机</strong></li>
</ul>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829143207.png" alt="image-20210829143206895" style="zoom:67%;" />

<ul>
<li>电脑</li>
</ul>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829143435.png" alt="image-20210829143434741"></p>
<h3 id="架设教程："><a href="#架设教程：" class="headerlink" title="架设教程："></a>架设教程：</h3><p>写给有需要的人~</p>
<p>服务器是腾讯云白嫖的，1h2g，第一个月免费，第二个月9元，续费一年也才不到100元，尽管玩，我保证只要有一个人玩就永不停服。<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210828235300.gif" alt="img"></p>
<p>阿里云：<a href="https://free.aliyun.com/">https://free.aliyun.com/</a></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210828235902.png" alt="image-20210828235902337"></p>
<p>腾讯云：<a href="https://cloud.tencent.com/act/free">https://cloud.tencent.com/act/free</a></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829000002.png" alt="image-20210829000002846"></p>
<p>新用户注册就能领取，亲测1h2g能玩，如果你有更高配置的现有服务器那更好啦~</p>
<h4 id="系统环境"><a href="#系统环境" class="headerlink" title="系统环境"></a>系统环境</h4><p>Windows Server 2012 R2 DataCenter 64bitCN</p>
<p>重置密码后远程桌面登录。</p>
<h4 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h4><p>绯雨骑士团H5  链接：<a href="https://pan.baidu.com/s/1NBlJ6MK0DBeJ-eUpkJGx8g">https://pan.baidu.com/s/1NBlJ6MK0DBeJ-eUpkJGx8g</a>  提取码：r1s4</p>
<p><a href="https://notepad-plus-plus.org/">notepad++</a>    链接：<a href="https://pan.baidu.com/s/12LiKHKK6tdd9s-47OXznBw">https://pan.baidu.com/s/12LiKHKK6tdd9s-47OXznBw</a>  提取码：tspf</p>
<p>navicat数据库管理工具  链接：<a href="https://pan.baidu.com/s/1Zlb5ntOoF2qZU6AVB1fD3g">https://pan.baidu.com/s/1Zlb5ntOoF2qZU6AVB1fD3g</a>   提取码：rp15</p>
<p>解压缩工具（腾讯云2012自带7-zip)</p>
<p>下载文件，解压notepad++和navicat到桌面</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829101624.png" alt="image-20210829101623940"></p>
<h4 id="新建分区D盘"><a href="#新建分区D盘" class="headerlink" title="新建分区D盘"></a>新建分区D盘</h4><p>系统默认只有一个C盘，而且盘符D被CD驱动器占用。</p>
<p>管理工具 -&gt; 计算机管理 -&gt; 磁盘管理   -&gt; 更改驱动器号和路径  -&gt; 确定</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829102104.png" alt="image-20210829102103999"></p>
<p>管理工具 -&gt; 计算机管理 -&gt; 磁盘管理 -&gt; 右击C盘  -&gt; 压缩卷  -&gt; 压缩出15G的空间</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829102352.png" alt="image-20210829102352759"></p>
<p>新建简单卷  无脑下一步得到D盘</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829102530.png" alt="image-20210829102529915"></p>
<h4 id="解压游戏源码"><a href="#解压游戏源码" class="headerlink" title="解压游戏源码"></a>解压游戏源码</h4><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829102722.png" alt="image-20210829102722329"></p>
<h4 id="启动phpstudy"><a href="#启动phpstudy" class="headerlink" title="启动phpstudy"></a>启动phpstudy</h4><p>打开之后点击启动，启动apache2.4.39和mysql5.7.26。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829103038.png" alt="image-20210829103038512"></p>
<h4 id="游戏外网修改"><a href="#游戏外网修改" class="headerlink" title="游戏外网修改"></a>游戏外网修改</h4><p>使用notepad++把以下路径里面的81.70.8.199修改成你的外网IP</p>
<p>D:\fyqst_wudiliu.Com\wudiliu\Server\s1\wserver\logic\guildbattle\appUtil.js<br>D:\fyqst_wudiliu.Com\wudiliu\Server\uc\env-cfg\cityserver_cfg.js<br>D:\fyqst_wudiliu.Com\wudiliu\Server\uc\env-cfg\server_cfg.js<br>D:\fyqst_wudiliu.Com\wudiliu\Server\uc\env-cfg\version_cfg.js<br>D:\fyqst_wudiliu.Com\wudiliu\Server\uc\versions里面的manifest2.0.1.json到manifest2.3.5.json【15个】json文件<br>D:\fyqst_wudiliu.Com\wudiliu\www\game.html</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829103331.png" alt="image-20210829103331512"></p>
<p>一次性打开所有需要修改的文件(可以直接拖动文件到Notepad++)，ctrl+F 查找替换 -&gt; 替换所有打开文件(o) </p>
<p>一共24处，务必确认下！！</p>
<p>修改完全部保存，全部关闭。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829103501.png" alt="image-20210829103501540"></p>
<h4 id="数据库修改"><a href="#数据库修改" class="headerlink" title="数据库修改"></a>数据库修改</h4><p>用Navicat链接数据库</p>
<p>数据库账号:root<br>数据库密码:123456</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829104022.png" alt="image-20210829104022223"></p>
<p>打开数据库【ttf_ly_login】找到【uw_server_info表】   <em><strong>tips:注意这个表有两个字段需要修改host和host2</strong></em><br>打开数据库【ttf_ly_main】找到【uw_game_config表】和【uw_battles_group表】</p>
<p>把以上路径里面的ip修改成你的外网IP</p>
<p>修改完点击下方✔保存</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829104155.png" alt="image-20210829104155332"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829104638.png" alt="image-20210829104638092"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829104740.png" alt="image-20210829104740744"></p>
<h4 id="启动游戏"><a href="#启动游戏" class="headerlink" title="启动游戏"></a>启动游戏</h4><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829104820.png" alt="image-20210829104820729"></p>
<p>一共有七个窗口，少一个都不行</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829104910.png" alt="image-20210829104910032"></p>
<h4 id="进入游戏"><a href="#进入游戏" class="headerlink" title="进入游戏"></a>进入游戏</h4><p>访问ip</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829105014.png" alt="image-20210829105014261"></p>
<p>起飞~</p>
<p>封面不太正经但游戏绝对正经，就是点点点，刷怪升级。体验下80后玩传奇的感觉。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210829105037.gif" alt="img"></p>
<p>私服自然有GM后台，游戏源码里【使用说明】有讲。略。下课~</p>
<p><strong>免责声明：</strong></p>
<p>1.本文部分内容转载自其它媒体，但并不代表本站赞同其观点和对其真实性负责。<br>2.若您需要商业运营或用于其他商业活动，请您购买正版授权并合法使用。<br>3.如果本站有侵犯、不妥之处的资源，请在网站下方联系我们。将会第一时间解决！<br>4.本站所有内容均由互联网收集整理、网友上传，仅供大家参考、学习，不存在任何商业目的与商业用途。<br>5.本站提供的所有资源仅供参考学习使用，版权归原著所有，禁止下载本站资源参与商业和非法行为，请在24小时之内自行删除！</p>
]]></content>
      <categories>
        <category>休闲娱乐</category>
      </categories>
      <tags>
        <tag>游戏</tag>
        <tag>绯雨骑士团H5</tag>
      </tags>
  </entry>
  <entry>
    <title>小霸王在线游戏机</title>
    <url>/2021/09/04/21090401/</url>
    <content><![CDATA[<h3 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h3><p>“小霸王其乐无穷！”直到现在，当我看到这句话时，耳边仿佛还是会响起当年的电子音。</p>
<p>对于 80、90 后而言，儿时有很多的快乐时光，和一群小伙伴一起打小霸王绝对是其中之一。这样快乐的童年时光恐怕只能在我们的回忆中寻找了。</p>
<p> 而今，我们或许能用代码，让我们坐上童年的时光机回到过去~</p>
<span id="more"></span>

<p>在我小学的时候，那个物质极其匮乏的年代里 ，谁家拥有一台小霸王游戏机绝对会成为整个儿童社交圈的焦点人物，那个人自然。。。。。不是我，我只记得我天天往别人家跑，玩小霸王的日子。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210904134538.jpeg"></p>
<p>长大一点，我还买过一个清华紫光的MP4，里面也有雪人兄弟，冒险岛等等，每个游戏我都通关了好多次，后来这个MP4被我爷爷发现没收了，哈哈哈~</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210904135705.jpg" alt="mp4"></p>
<p>再后来我再也没玩过这些游戏了。直到今天看到小霸王在线游戏机的开源项目。</p>
<h3 id="源码地址："><a href="#源码地址：" class="headerlink" title="源码地址："></a>源码地址：</h3><p><a href="https://gitee.com/feiyu22/jsnes">https://gitee.com/feiyu22/jsnes</a></p>
<p>是别人的开源项目哦~搭建也十分简单，下载上传到网站根目录即可访问使用；</p>
<h3 id="在线体验："><a href="#在线体验：" class="headerlink" title="在线体验："></a>在线体验：</h3><p><a href="http://games.qyxie.top/FCGames/">http://games.qyxie.top/FCGames/</a></p>
<p>我自己“缝合”了一下，有几十款我们儿时经常玩的小游戏，之前在微信朋友圈里很火的内容，带你回到小时候，具有怀旧的风格哦，各种小时候玩过的小游戏机全都有，还有按键声音模拟哦。</p>
<p>手机横屏游戏体验更好~</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210904141524.jpeg" alt="Screenshot_2021-09-04-14-14-56-586_com.android.br"></p>
<h3 id="按键说明："><a href="#按键说明：" class="headerlink" title="按键说明："></a>按键说明：</h3><p>移动端使用触摸操控，PC端按键映射如下：</p>
<table>
<thead>
<tr>
<th align="left">按键</th>
<th align="left">player1</th>
<th align="left">player2</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Left</td>
<td align="left">A</td>
<td align="left">Num-4</td>
</tr>
<tr>
<td align="left">Right</td>
<td align="left">D</td>
<td align="left">Num-6</td>
</tr>
<tr>
<td align="left">Up</td>
<td align="left">W</td>
<td align="left">Num-8</td>
</tr>
<tr>
<td align="left">Down</td>
<td align="left">S</td>
<td align="left">Num-2</td>
</tr>
<tr>
<td align="left">A</td>
<td align="left">J</td>
<td align="left">Num-7</td>
</tr>
<tr>
<td align="left">B</td>
<td align="left">K</td>
<td align="left">Num-9</td>
</tr>
<tr>
<td align="left">AA</td>
<td align="left">Z</td>
<td align="left">Num-/</td>
</tr>
<tr>
<td align="left">BB</td>
<td align="left">X</td>
<td align="left">Num-*</td>
</tr>
<tr>
<td align="left">Start</td>
<td align="left">Enter</td>
<td align="left">Num-1</td>
</tr>
<tr>
<td align="left">Select</td>
<td align="left">Ctrl</td>
<td align="left">Num-3</td>
</tr>
</tbody></table>
<h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><p>PC不习惯，手机触屏没有手柄按键的感觉，我的青春果然还是回不去了吗<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210904141717.gif" alt="img"></p>
]]></content>
      <categories>
        <category>休闲娱乐</category>
      </categories>
      <tags>
        <tag>游戏</tag>
        <tag>FCGames</tag>
        <tag>小霸王</tag>
      </tags>
  </entry>
  <entry>
    <title>惠普暗影精灵笔记本windows hello人脸解锁改造</title>
    <url>/2021/09/15/21091501/</url>
    <content><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>传统的开机密码并不安全，而且输入繁琐（重点）。而为了便于使用，微软在Win10中加入了Windows Hello功能。Windows Hello是一种生物特征授权方式，让你可以实时访问自己的Windows 10设备。有了Windows Hello，用户只需要露一下脸，动动手指，就能立刻被运行Windows10的新设备所识别。</p>
<p>对于人脸识别而言，所有笔记本都安装了摄像头，因此大家认为笔记本都支持Windows Hello功能的人脸识别登录。但并非如此，根据微软资料显示，默认情况下，Windows hello的人脸识别功能需要Intel Real Sense 或 3D摄像头支持人脸解锁功能。目前支持Windows Hello的笔记本并不是很多，但是随着生物特征授权的方式越来越被人们所接受，相信未来支持Windows Hello的设备会越来越多。</p>
<span id="more"></span>

<p>本人五年前的惠普暗影精灵2自然也是不支持windows hello人脸解锁滴，每次开机输密码属实繁琐。</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210915155435.png" alt="image-20210915155435715" style="zoom:67%;" />



<p>上网找同品牌支持windows hello，接口类型一样的笔记本摄像头。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/20210915161354.png" alt="    "></p>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>收到快递了~~~先接USB测试下摄像头功能是否正常。</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/52DD21FE248539BAB6DFFD46E576DCA3.jpg" alt="img" style="zoom: 50%;" />

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20210919121610281.png" alt="image-20210919121610281"></p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20210919121923669.png" alt="image-20210919121923669" style="zoom: 67%;" />



<p>稳健，直接改内置。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>降压管是台式电脑需要的，将5V降到3.3V红外才能正常使用，笔记本原本就是3.3V不需要降压管，改内置直接把摄像头模块供电接口接上就行，USB接口和降压管都是多余的。你们可以只买摄像头模块。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20210919122217802.png" alt="image-20210919122217802"></p>
<p>拆开笔记本B面，惠普几乎都一样B面是卡扣的，没有螺丝，只要沿缝隙撬一撬就能打开啦。其他型号笔记本上网搜拆机视频或者大力出奇迹吧。</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20210918110029088.png" alt="image-20210918110029088" style="zoom: 67%;" />



<p>把供电线拔了，拆下摄像头模块，然后将淘宝买的支持windows hello摄像头装上。</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20210918110454812.png" alt="image-20210918110454812" style="zoom:67%;" />



<p>然后就……就被我掰断了，擦，，，这个实在脆，插供电线的时候一用力断了。。。。大力只能出事故</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/KyIM3gBqChuDoJ1.png" alt="image-20210918104749358"></p>
<p>告辞，此贴终结。。。散。。。<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/1CA67ABCF00B2F6740432956F3493433.jpg" alt="img"></p>
<p>。</p>
<p>。</p>
<p>。</p>
<p>。</p>
<p>。</p>
<p>。</p>
<p>。</p>
<p>。</p>
<p>。</p>
<p>。</p>
<p>。</p>
<p>开玩笑的，我又重新买了一个<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/1878C700DA0B38BC5337A0410DA76997.gif" alt="img"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/oEOYJ5BnwGxdCtU.png" alt="image-20210918104924568"></p>
<p>经过漫长的快递等待。。。装上后，在红外的位置开孔，搞定。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20210919150359720.png" alt="image-20210919150359720"></p>
<h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20210919133647865.png"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20210919133817353.png" alt="image-20210919133817353"></p>
<h3 id="起飞"><a href="#起飞" class="headerlink" title="起飞"></a>起飞</h3><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20210919133902843.png" alt="image-20210919133902843"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20210919134005556.png" alt="image-20210919134005556"></p>
<h3 id="新的问题"><a href="#新的问题" class="headerlink" title="新的问题"></a>新的问题</h3><p>win+l锁屏之后，红外摄像头就一直在工作闪动，开始面部识别。这样很费电，也损耗摄像头。<br>找了一圈也没找到什么设置可以优化一下。<br>这样锁屏快捷键就不好使了，有事需要离开只能按电源键睡眠/休眠。</p>
<p><strong>睡眠和休眠，系统都会将内存中的数据全部存在一个休眠文件中，不同的是睡眠存内存，不可以断电，但启动可能快一点。休眠存硬盘，可断电。</strong></p>
<p>推荐睡眠</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20210919191528891.png" alt="image-20210919191528891"></p>
<p>属实一波三折，捞的不谈。</p>
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>暗影精灵2</tag>
        <tag>惠普笔记本</tag>
        <tag>windows hello</tag>
        <tag>人脸解锁</tag>
      </tags>
  </entry>
  <entry>
    <title>linux防火墙之Firewalls &amp; iptables</title>
    <url>/2021/11/09/21110801/</url>
    <content><![CDATA[<p>Linux中有两种防火墙软件，<em>ConterOS7.0</em>以上使用的是firewall，ConterOS7.0以下使用的是iptables。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/Firewalls.jpg" alt="Firewalls"></p>
<span id="more"></span>



<p>**Tips:*<em>systemctl是</em>CentOS7*的服务管理工具中主要的工具，融合之前service和chkconfig的功能于一体。</p>
<table>
<thead>
<tr>
<th>System V init 命令（RHEL 6）</th>
<th>systemctl 命令（RHEL 7）</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>service xxxx start</td>
<td>systemctl start xxxx.service</td>
<td>启动服务</td>
</tr>
<tr>
<td>service xxxx stop</td>
<td>systemctl stop xxxx.service</td>
<td>停止服务</td>
</tr>
<tr>
<td>service xxxx restart</td>
<td>systemctl restart xxxx.service</td>
<td>重启服务</td>
</tr>
<tr>
<td>service xxxx reload</td>
<td>systemctl reload xxxx.service</td>
<td>重新加载配置文件（不终止服务）</td>
</tr>
<tr>
<td>service xxxx status</td>
<td>systemctl status xxxx.service</td>
<td>查看服务状态</td>
</tr>
<tr>
<td>chkconfig xxxx on</td>
<td>systemctl enable xxxx.service</td>
<td>开机自启</td>
</tr>
<tr>
<td>chkconfig xxxx off</td>
<td>systemctl disable xxxx.service</td>
<td>禁止开机自启</td>
</tr>
<tr>
<td>chkconfig xxxx</td>
<td>systemctl is-enabled xxxx.service</td>
<td>查看特定服务是否为开机自启</td>
</tr>
<tr>
<td>chkconfig –list</td>
<td>systemctl list-unit-files –type=service</td>
<td>查看各个级别下服务的启动与禁用情况</td>
</tr>
</tbody></table>
<p><strong>Tips:</strong>  reload (重新加载)，reload会重新加载配置文件，服务不会中断。而且reload时会测试conf语法等，如果出错会rollback用上一次正确配置文件保持正常运行。也叫平滑重启，不会对已经连接的服务造成影响。<br>restart (重启)（先stop后start），会重启服务。这个重启会造成服务一瞬间的中断，restart自然也就reload了。</p>
<h3 id="Firewalls"><a href="#Firewalls" class="headerlink" title="Firewalls"></a>Firewalls</h3><p>firewall-cmd 是 firewalld的字符界面管理工具，firewalld是centos7的一大特性，最大的好处有两个：支持动态更新，不用重启服务；第二个就是加入了防火墙的“zone”概念。</p>
<h4 id="相关常用命令"><a href="#相关常用命令" class="headerlink" title="相关常用命令"></a>相关常用命令</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl start  firewalld # 启动</span><br><span class="line">systemctl stop firewalld # 关闭</span><br><span class="line">systemctl status firewalld # 或者 firewall-cmd --state 查看状态</span><br><span class="line">systemctl restart firewalld # 重启</span><br><span class="line">firewall-cmd --reload # 重新加载配置文件</span><br><span class="line">firewall-cmd --help  #获取帮助</span><br><span class="line">systemctl enable firewalld.service # 开机自启</span><br><span class="line">systemctl disable firewalld.service # 禁用开机自启</span><br><span class="line">systemctl is-enabled firewalld # 查看服务是否开机启动</span><br></pre></td></tr></table></figure>





<h4 id="1、开放端口"><a href="#1、开放端口" class="headerlink" title="1、开放端口"></a>1、开放端口</h4><p>（1）如我们需要开启XShell连接时需要使用的22端口</p>
<p><strong>临时增加</strong> (<code>reload</code>之后消失)：不需要<code>reload</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=22/tcp</span><br></pre></td></tr></table></figure>



<p><strong>永久增加</strong> ：<code>reload</code>后生效</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=22/tcp --permanent</span><br></pre></td></tr></table></figure>

<p>其中–permanent的作用是使设置永久生效，不加的话机器重启之后失效 </p>
<p>（2）重新载入一下防火墙设置，使设置生效</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>

<p>（3）可通过如下命令查看是否生效</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone=public --query-port=22/tcp</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211113230828367.png" alt="image-20211113230828367"></p>
<p>（4）如下命令可查看当前系统打开的所有端口</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone=public --list-ports</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211113230901879.png" alt="image-20211113230901879"></p>
<h4 id="2、限制端口"><a href="#2、限制端口" class="headerlink" title="2、限制端口"></a>2、限制端口</h4><p>（1）比如我们现在需要关掉刚刚打开的22端口</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone=public --remove-port=22/tcp --permanent</span><br></pre></td></tr></table></figure>

<p>（2）重新载入一下防火墙设置，使设置生效</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>

<p>（3）再去查看系统所有开放的端口，已经看到没有22端口了</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone=public --list-ports</span><br></pre></td></tr></table></figure>



<h4 id="3、批量开放或限制端口"><a href="#3、批量开放或限制端口" class="headerlink" title="3、批量开放或限制端口"></a>3、批量开放或限制端口</h4><p>（1）批量开放端口，如从100到500这之间的端口我们全部要打开</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=100-500/tcp --permanent</span><br></pre></td></tr></table></figure>



<h4 id="4、服务相关"><a href="#4、服务相关" class="headerlink" title="4、服务相关"></a>4、服务相关</h4><p>获取所有支持的服务：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --get-services</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211113233042121.png" alt="image-20211113233042121"></p>
<p>增加服务： (临时增加)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --add-service=http</span><br></pre></td></tr></table></figure>

<p>删除服务： (临时删除)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --remove-service=http</span><br></pre></td></tr></table></figure>

<p>查询服务 :</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">firewall-cmd --query-service=http</span><br></pre></td></tr></table></figure>



<h3 id="iptables"><a href="#iptables" class="headerlink" title="iptables"></a>iptables</h3><p>iptables 的最大优点是它可以配置有状态的<a href="https://baike.baidu.com/item/%E9%98%B2%E7%81%AB%E5%A2%99">防火墙</a>，有四种有效状态，名称分别为 ESTABLISHED 、 INVALID 、 NEW 和 RELATED。</p>
<h4 id="相关常用命令-1"><a href="#相关常用命令-1" class="headerlink" title="相关常用命令"></a>相关常用命令</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">service iptables start           //启动iptables</span><br><span class="line">service iptables stop           //关闭iptables</span><br><span class="line">service iptables restart       //重启iptables</span><br><span class="line">service iptables status       //查看iptables状态</span><br><span class="line">cat /etc/sysconfig/iptables  //查看iptables规则</span><br><span class="line">vi /etc/sysconfig/iptables  //修改iptables的规则</span><br><span class="line">service iptables save      //保存命令行中设置的iptables规则到iptables文件中</span><br><span class="line">iptables -V   (注意：V是大写字母V）  //查看iptables版本</span><br></pre></td></tr></table></figure>

<p>iptables简直是地狱中的地狱，我还是会开关就好了，告辞。</p>
<p>以上内容均来自百度各大佬文章进行总结归纳，也就图个自己查看方便，勿喷。</p>
<p>​    </p>
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Firewalls</tag>
        <tag>iptables</tag>
      </tags>
  </entry>
  <entry>
    <title>白嫖腾讯云函数，实现原神小助手</title>
    <url>/2021/11/09/21110901/</url>
    <content><![CDATA[<ul>
<li><strong>米游社原神每日签到</strong></li>
<li><strong>米游币每日任务</strong></li>
<li><strong>微信原神积分商城签到</strong></li>
<li><strong>微博超话签到</strong></li>
<li><strong>原神超话功能</strong> 活动监测 + 领兑换码 + 多方推送</li>
<li><strong>支持多个角色</strong> 支持绑定官服和B站服的米游社账号</li>
</ul>
<span id="more"></span>

<p>教程出自<a href="https://www.yindan.me/tutorial/genshin-impact-helper.html">YINDAN☛原神签到小助手 每日福利不用愁</a>，一开始在葫芦侠看到这个原神小助手，但教程不是很清楚，版本是1.7，而且应该是搬运。我各平台搜索发现原贴出自酷安，然而酷安也不是原作者，不过好歹说了下项目github，然后我就又一路摸到作者的博客，已经更新到版本2.0.3。可惜比较笨，教程也是“详略得当”，我看不太明白，后来经一位HXD的指点，才部署成功。捞的不谈。捞的不谈。高手可以直接去大佬原项目看看，不行的还是跟着我的教程部署吧。另外已将YINDAN大佬友链收录。</p>
<h4 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h4><p>打开并登录「腾讯云」，直接搜索「云函数」</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109163440708.png" alt="image-20211109163440708"></p>
<p>如果是第一次开通云函数功能，会弹出一个「服务授权」，点击「前往访问管理」，点击「确定授权」，然后微信扫码确认即可</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109162315682.png" alt="image-20211109162315682"></p>
<h4 id="新建函数"><a href="#新建函数" class="headerlink" title="新建函数"></a>新建函数</h4><p>云函数控制台点击「函数服务」，点击「新建」</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109163724213.png" alt="image-20211109163724213"></p>
<h4 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h4><p>创建方式改为「自定义创建」然后选「事件函数」，函数名称，地区任意，运行环境则选「Python3.6」，部署方式选择「本地上传zip包」，并上传<a href="https://wwa.lanzoui.com/b07mk6dla">原神签到小助手l.zip</a>    密码：ed03</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109170121820.png" alt="image-20211109170121820"></p>
<h4 id="米游社签到任务"><a href="#米游社签到任务" class="headerlink" title="米游社签到任务"></a>米游社签到任务</h4><h5 id="获取cookie"><a href="#获取cookie" class="headerlink" title="获取cookie"></a>获取cookie</h5><p>方法很多，我提供一种。</p>
<p>电脑Edge浏览器插件</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109221105195.png" alt="image-20211109221105195"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109221151482.png" alt="image-20211109221151482"></p>
<p><strong>EditThisCookie</strong></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109224019327.png" alt="image-20211109224019327"></p>
<p>InPrivate就是Edge无痕模式，要设置无痕可用</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109221928900.png" alt="image-20211109221928900"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109222422602.png" alt="image-20211109222422602"></p>
<p>无痕模式登录<a href="https://user.mihoyo.com/#/login/">米游社登录 (mihoyo.com)</a></p>
<p>点击右上角插件就可以获取cookie</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109222735440.png" alt="image-20211109222735440"></p>
<h5 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h5><p>回到腾讯云，再次编辑「函数配置」-&gt; 「环境配置」，设置执行超时300s；填入cookie，保存配置</p>
<table>
<thead>
<tr>
<th>key</th>
<th>value</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>COOKIE_MIHOYOBBS</td>
<td>cookie_token=xxxxxx; account_id=xxxxxx</td>
<td>原神签到福利</td>
</tr>
<tr>
<td>COOKIE_BH3</td>
<td>cookie_token=xxxxxx; account_id=xxxxxx</td>
<td>崩坏3福利补给</td>
</tr>
<tr>
<td>COOKIE_MIYOUBI</td>
<td>account_id=xxxxxx; cookie_token=xxxxxx; login_ticket=xxxxxx</td>
<td>米游社区任务</td>
</tr>
<tr>
<td>LANGUAGE</td>
<td>zh</td>
<td>中文</td>
</tr>
</tbody></table>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109223037652.png" alt="image-20211109223037652"></p>
<p><em><strong><u>Tips：</u></strong></em></p>
<p>「原神签到福利」「崩坏3福利补给」只要cookie_token、account_id两个字段。</p>
<p>「米游社区任务」需要account_id、cookie_token和login_ticket三个字段，而且必须退出账号**无痕模式!!!无痕模式!!!无痕模式!!!**即时获取，然后立即填入COOKIE_MIYOUBI运行一次。</p>
<p>如果日志报错：YOUR COOKIE_MIYOUBI: xxxxxx，那么这是正常的，只需要把转义stuid=xxxxx; stoken=xxxxxx; login_ticket=xxxxxx回填至COOKIE_MIYOUBI再次运行就OK。</p>
<h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><p>「函数管理」，「函数代码」部分往下翻，「部署」，完成后「测试」</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109225825337.png" alt="image-20211109225825337"></p>
<h5 id="报错"><a href="#报错" class="headerlink" title="报错"></a>报错</h5><p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109213528818.png" alt="image-20211109213528818"></p>
<h5 id="回填"><a href="#回填" class="headerlink" title="回填"></a>回填</h5><table>
<thead>
<tr>
<th>key</th>
<th>value</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>COOKIE_MIYOUBI</td>
<td>stuid=xxxxx; stoken=xxxxxx; login_ticket=xxxxxx</td>
<td>回填环境变量，再次运行即可</td>
</tr>
</tbody></table>
<p><em><strong><u>Tips：</u></strong></em></p>
<p>Cookie 支持配置多个，不同账号的 Cookie 值之间用 <code>#</code>分隔，如：<code>cookie1#cookie2#cookie3</code>。</p>
<h4 id="每天定时触发运行"><a href="#每天定时触发运行" class="headerlink" title="每天定时触发运行"></a>每天定时触发运行</h4><p>「函数服务」-&gt;「触发管理」-&gt;「新建触发器」，「触发周期」字段改为自定义触发周期</p>
<p>下面的cron表达式，则代表了触发的时间</p>
<p>Cron 表达式有七个必需字段，按空格分隔。</p>
<table>
<thead>
<tr>
<th align="left">第一位</th>
<th align="left">第二位</th>
<th align="left">第三位</th>
<th align="left">第四位</th>
<th align="left">第五位</th>
<th align="left">第六位</th>
<th align="left">第七位</th>
</tr>
</thead>
<tbody><tr>
<td align="left">秒</td>
<td align="left">分钟</td>
<td align="left">小时</td>
<td align="left">日</td>
<td align="left">月</td>
<td align="left">星期</td>
<td align="left">年</td>
</tr>
</tbody></table>
<p>*表示所有值。在“小时”字段中， 表示每个小时</p>
<p>比如 0 10 30 0 0 0 0就表示每天上午10点30触发（24H制）</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109231220416.png" alt="image-20211109231220416"></p>
<h4 id="利用pushplus实现消息推送"><a href="#利用pushplus实现消息推送" class="headerlink" title="利用pushplus实现消息推送"></a>利用pushplus实现消息推送</h4><p>在微信里关注pushplus公众号</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109231731506.png" alt="image-20211109231731506"></p>
<p>点击左下角，「pushplus官网」-&gt;「一对一推送」，提示登录微信授权即可，然后就可以获取到你的token</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109232044864.png" alt="image-20211109232044864"></p>
<p>回到腾讯云，编辑「函数代码」</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;ONEPUSH&quot;: &#123;</span><br><span class="line">  &quot;notifier&quot;: &quot;pushplus&quot;,</span><br><span class="line">  &quot;params&quot;: &#123;</span><br><span class="line">  &quot;markdown&quot;: true,</span><br><span class="line">  &quot;token&quot;:&quot;xxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211110204739433.png" alt="image-20211110204739433"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211109233347154.png" alt="image-20211109233347154"></p>
<p>因微信政策原因，pushplus可能会先让你发送激活消息才能收到推送，按照提示来即可。</p>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211110205432272.png" alt="image-20211110205432272" style="zoom:50%;" />



<p>至此，你已经实现了米游社任务，并且将结果通过push推送至你的手机。但这个小助手功能远不止如此，微信原神积分商城签到，微博超话签到，实时便笺等等功能，部署支持 <code>Docker</code>、<code>PyPI</code>和云函数三种安装方式，推送支持酷推、钉钉机器人、Discord、iGot聚合推送、pushplus、Server酱、Telegram robot、企业微信应用、企业微信机器人和自定义推送，本人 <del>需求</del> 能力有限，朋友~自己研究☛<a href="https://www.yindan.me/tutorial/genshin-impact-helper.html">原神签到小助手 每日福利不用愁</a>。</p>
<h4 id="微信原神积分商城签到"><a href="#微信原神积分商城签到" class="headerlink" title="微信原神积分商城签到"></a>微信原神积分商城签到</h4><p>微信打开原神积分商城，黄鸟抓包</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211110210332542.png" alt="image-20211110210332542"></p>
<p>token填入</p>
<table>
<thead>
<tr>
<th>key</th>
<th>value</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>SHOPTOKEN</td>
<td>b7x5101f467exxxxxxxxxxff1bcxxb3b</td>
<td>原神微信积分商城签到</td>
</tr>
</tbody></table>
<h4 id="实时便笺"><a href="#实时便笺" class="headerlink" title="实时便笺"></a>实时便笺</h4><table>
<thead>
<tr>
<th>key</th>
<th>value</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>COOKIE_RESIN_TIMER</td>
<td>cookie_token=xxxxxx; account_id=xxxxxx</td>
<td>与原神，崩坏签到一样</td>
</tr>
</tbody></table>
<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211110210813406.png" alt="image-20211110210813406" style="zoom:50%;" />
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>腾讯云</tag>
        <tag>Genshin</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows Subsystem for Android安卓子系统初体验</title>
    <url>/2021/11/14/21111401/</url>
    <content><![CDATA[<p>微软官方在 Windows 11 内测版刚发布的时候就曾被爆出 Windows 11 将支持安装安卓应用，早前Windows 11发布我也是第一时间通过加入Dev通道获得推送，但安装成功后索然无味，感觉除了UI的变化毫无亮点，支持安装安卓应用功能也未上线。如今Windows 11 发布了安卓子系统 Windows Subsystem for Android，前段时间有事没能第一时间体验到，最近有空在酷安了解了下如何安装，分享下。</p>
<span id="more"></span>



<h3 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h3><p>安装了WIN11。</p>
<p><a href="https://www.microsoft.com/zh-cn/software-download/windows11">win11官方镜像下载</a></p>
<p>下载ISO镜像文件用pe安装，方便快捷，没有硬件要求，也不需要UEFI，我家十年前的电脑都用上win11啦.</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/J%5BKGKPT@LXF%7DMUJCBR%5DW4LU.png" alt="img"></p>
<h3 id="温馨提示"><a href="#温馨提示" class="headerlink" title="温馨提示"></a>温馨提示</h3><p>设置 &gt; 系统 &gt; 存储 &gt; 高级存储设置 &gt; 保存新内容的地方</p>
<p>怕C盘爆了的话，在这里可以改安装位置 ，如果你只有一个盘当我没说 </p>
<p> <img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114163237401.png" alt="image-20211114163237401"></p>
<p>当然，已经安装在C盘了也可以更改</p>
<p>设置 &gt;  应用 &gt; 应用和功能 </p>
<p> <img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114163233680.png" alt="image-20211114163233680"></p>
<h3 id="安装Windows-Subsystem-for-Android"><a href="#安装Windows-Subsystem-for-Android" class="headerlink" title="安装Windows Subsystem for Android"></a>安装Windows Subsystem for Android</h3><p>控制面板 &gt; 启动或关闭Windows功能  把“虚拟机平台”和“Hyper-V”前面的勾打上，然后点击确定 安装完成后重启即可 </p>
<p> <img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114163228691.png" alt="image-20211114163228691"></p>
<p><a href="https://pan.xunlei.com/s/VMoT7Faoxb3Y8F2OvIxd83dPA1">迅雷</a><br>提取码：s7hn</p>
<p><a href="https://pan.baidu.com/s/1_X8mQtyGMlO7rDEMjd66aw">百度云网盘</a><br>提取码：hmgr</p>
<p>下载WSA.zip 解压到D盘根目录下。当然你也可以放在其他位置，就是安装和执行脚本的时候自己考虑下路径问题。</p>
<p>同时按住Win键和x唤出菜单，选择Windows终端（管理员），安装WSA</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">add-Appxpackage &quot;D:\MicrosoftCorporationII.WindowsSubsystemForAndroid_1.7.32815.0_neutral_~_8wekyb3d8bbwe.Msixbundle&quot;  </span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114163222224.png" alt="image-20211114163222224"></p>
<p>如下报错就到微软商店更新【应用安装程序】</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211124101043061.png" alt="image-20211124101043061"></p>
<p> 等待安完毕 ，打开开始菜单，就可以看到<strong>「Windows Subsystem for Android」</strong>的绿色图标。打开后依次点击  “文档”  “开启开发人员模式”  “刷新IP地址”     </p>
<p> <img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114163213647.png" alt="image-20211114163213647"></p>
<h3 id="安装外部apk"><a href="#安装外部apk" class="headerlink" title="安装外部apk"></a>安装外部apk</h3><p>“D:\apk\platform-tools” 目录是adb工具，用来安装apk的 </p>
<p> <img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114163205612.png" alt="image-20211114163205612"></p>
<p>“D:\apk\双击apk安装脚本.bat” 是apk安装脚本 </p>
<p> <img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114163146033.png" alt="image-20211114163146033"></p>
<p>修改 1.apk 文件默认打开方式</p>
<p>右键 1.apk 文件，打开属性。</p>
<p>选择更改，选择在这台电脑查找其他应用，并勾选始终使用此应用打开 .apk 文件。</p>
<p>选择.bat 脚本，点击确定即可。 </p>
<p> <img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114163326569.png" alt="image-20211114163326569"></p>
<p>外部应用通过上诉脚本实现安装，安卓子系统内部的话下载完就直接安装了，这个1.apk就是酷安，你可以通过先安装酷安在搜索其他软件进行安装，不行就外部下载双击安装。</p>
<h3 id="问题与解决："><a href="#问题与解决：" class="headerlink" title="问题与解决："></a>问题与解决：</h3><p>安卓子系统WSA用户数据以虚拟磁盘vhdx形式存放在如下路径：C:\Users\kkax\AppData\Local\Packages\MicrosoftCorporationII.WindowsSubsystemForAndroid_8wekyb3d8bbwe\LocalCache\userdata.vhdx，比较大，WSA虽然可以安装或者在设置里应用和功能里进行移动到其他盘符，但这个操作只是移动了WSA系统文件，而安装软件都是装到了上诉路径下系统盘的userdata.vhdx镜像中。这样C盘有点顶不住撒。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114163539044.png" alt="image-20211114163539044"></p>
<p>Tips：是个隐藏文件。 </p>
<p> <img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114163400022.png" alt="image-20211114163400022"></p>
<p>万能的贴吧老哥给出了办法，用windows 的mklink命令进行移动。</p>
<p>首先完全关闭wsa，把系统盘的LocalCache文件夹剪切（里面有个userdata.vhdx虚拟磁盘，注意是剪切，或者复制完删除C盘的LocalCache）到想要放到的目录，如D盘根目录，（如果无法移动说明wsa正在后台运行，任务管理器结束任务或者重启电脑）；</p>
<p> <img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114164304618.png" alt="image-20211114164304618"></p>
<p>按win+r，输入cmd打开windows命令提示符输入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mklink /J &quot;C:\Users\kkax\AppData\Local\Packages\MicrosoftCorporationII.WindowsSubsystemForAndroid_8wekyb3d8bbwe\LocalCache&quot; &quot;D:\LocalCache&quot;</span><br></pre></td></tr></table></figure>

<p>前面是原位置，后面是移动后的位置，根据实际情况自己灵活改动。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114191118035.png" alt="image-20211114191118035"></p>
<p>之后在C盘 C:\Users\kkax\AppData\Local\Packages\MicrosoftCorporationII.WindowsSubsystemForAndroid_8wekyb3d8bbwe\路径下又出现了个LocalCache文件夹，并且文件夹左下角带有一个小箭头，说明映射成功。</p>
<p> 重启电脑，打开Windows Subsystem for Android，或者开几个app看看，应该是没问题的，亲测有效可用。解放系统盘。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>Windows Subsystem for Android是我对WIN11最大的期待，有许多app只有移动端没有电脑端，绕过安卓模拟器直装后启动速度非常快，而且使用起来非常流畅。卸载也可以在“程序和功能”中直接卸载。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211114171320827.png" alt="image-20211114171320827"></p>
<p>但目前看来安卓模拟器仍有不可替代的优势，键盘手柄映射等等，WSA只能玩玩金铲铲之类的只需要鼠标点点点的游戏。期待Windows Subsystem for Android的下一次更新。</p>
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>BiliHelper部署，升级好比坐火箭</title>
    <url>/2021/12/11/21121101/</url>
    <content><![CDATA[<p>B站距离等级6还有五千经验，平时都只刷刷视频甚至不投币（俗称：白嫖怪），升级遥遥无期，今天看到一个B站助手还不错，研究部署下。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211183609071.png" alt="image-20211211183609071"></p>
<p>项目地址：<a href="https://github.com/lkeme/BiliHelper-personal">哔哩哔哩（Bilibili）助手 - PHP 版（Personal）</a>，Github也有部署指南，开源免费，如果你感觉本项目对你有所帮助的话，欢迎点击对原作者进行打赏。</p>
<p>话不多说，开始我的部署教程吧。</p>
<span id="more"></span>

<h3 id="环境依赖："><a href="#环境依赖：" class="headerlink" title="环境依赖："></a>环境依赖：</h3><p>linux服务器安装宝塔面板（略）</p>
<p>宝塔面板软件商店搜索安装php8.0</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211153450418.png" alt="image-20211211153450418"></p>
<p>php8.0管理，删除禁用函数putenv、proc_open、pcntl_signal_dispatch，一共三个</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211153635155.png" alt="image-20211211153635155"></p>
<h3 id="Composer"><a href="#Composer" class="headerlink" title="Composer"></a>Composer</h3><p><a href="https://www.runoob.com/w3cnote/composer-install-and-usage.html">Composer 安装与使用</a></p>
<p>使用以下命令来安装：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># php -r &quot;copy(&#x27;https://install.phpcomposer.com/installer&#x27;, &#x27;composer-setup.php&#x27;);&quot;</span><br><span class="line"># php composer-setup.php</span><br><span class="line"></span><br><span class="line">All settings correct for using Composer</span><br><span class="line">Downloading...</span><br><span class="line"></span><br><span class="line">Composer (version 1.6.5) successfully installed to: /root/composer.phar</span><br><span class="line">Use it: php composer.phar</span><br></pre></td></tr></table></figure>



<p>移动 composer.phar，这样 composer 就可以进行全局调用：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># mv composer.phar /usr/local/bin/composer</span><br></pre></td></tr></table></figure>

<p>更新 composer：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">composer selfupdate</span><br></pre></td></tr></table></figure>

<p>切换为国内镜像：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/</span><br></pre></td></tr></table></figure>



<h3 id="部署指南："><a href="#部署指南：" class="headerlink" title="部署指南："></a>部署指南：</h3><ol>
<li>下载（克隆）项目代码，初始化项目</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># git clone https://github.com/lkeme/BiliHelper-personal.git</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211152627375.png" alt="image-20211211152627375"></p>
<p>没有安装git或者跟我一样git失败的也可以直接下载压缩包，上传解压</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211153218821.png" alt="image-20211211153218821"></p>
<ol start="2">
<li>使用 composer工具进行安装</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># cd BiliHelper-personal/</span><br><span class="line"># composer install</span><br></pre></td></tr></table></figure>



<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211164816662.png" alt="image-20211211164816662"></p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211164727178.png" alt="image-20211211164727178"></p>
<ol start="3">
<li>修改配置文件 <code>user.ini</code></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># cd conf/</span><br><span class="line"># cp user.ini.example user.ini</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211165806755.png" alt="image-20211211165806755"></p>
<p>用宝塔面板修改方便点，配置账号密码，保存</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211170413879.png" alt="image-20211211170413879"></p>
<p>登录模式|[1.账密模式 2.短信验证码模式 ]</p>
<p>1就是直接输入账号密码，2短信登录，此时password字段随意填</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211172141151.png" alt="image-20211211172141151"></p>
<ol start="4">
<li>运行测试</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># cd ,,  #回到项目路径</span><br><span class="line"># php index.php</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211172554683.png" alt="image-20211211172554683"></p>
<p>起飞~</p>
<h3 id="Supervisor-配置："><a href="#Supervisor-配置：" class="headerlink" title="Supervisor 配置："></a>Supervisor 配置：</h3><p>将 BiliHelper-personal 部署到线上服务器时，需要配置一个进程监控器来监测 <code>php index.php</code> 命令，在它意外退出时自动重启。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install supervisor # 使用yum安装supervisor</span><br><span class="line">systemctl enable supervisord.service # 设置开机自启</span><br></pre></td></tr></table></figure>

<p>编辑/etc/supervisord.conf</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[program:bilibili]</span><br><span class="line">process_name=%(program_name)s</span><br><span class="line">command=php /path/to/your/BiliHelper-personal/index.php    #注：路径根据实际情况</span><br><span class="line">autostart=true</span><br><span class="line">autorestart=true</span><br><span class="line">redirect_stderr=true</span><br><span class="line">stdout_logfile=/tmp/bilibili.log</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211173809947.png" alt="image-20211211173809947"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">supervisord -c /etc/supervisord.conf # 指定配置文件启动</span><br></pre></td></tr></table></figure>

<p>再次运行测试</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># php index.php</span><br></pre></td></tr></table></figure>

<p>之后就算ctrl+c 结束也没事了 ，supervisort监听到进程死后，会自动将它重新拉起，很方便的做到进程自动恢复的功能。在/tmp/bilibili.log中也不断有日志输出，部署没得问题。</p>
<h3 id="更多"><a href="#更多" class="headerlink" title="更多"></a>更多</h3><p>关于项目的更多功能以及配置请访问项目原地址<a href="https://github.com/lkeme/BiliHelper-personal">哔哩哔哩（Bilibili）助手 - PHP 版（Personal）</a>查阅文档，我也是菜鸡，更多的是发现好的项目，剩下的靠大家了。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211183356350.png" alt="image-20211211183356350"></p>
<p>项目应该也是可以使用云函数部署的，但是我不会，有大佬研究下欢迎指导下。</p>
]]></content>
      <categories>
        <category>实用工具</category>
      </categories>
      <tags>
        <tag>bilibili</tag>
      </tags>
  </entry>
  <entry>
    <title>Composer安装报错</title>
    <url>/2021/12/11/21121102/</url>
    <content><![CDATA[<h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>Composer安装报错，错误代码如下：</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211160331789.png" alt="image-20211211160331789"></p>
<span id="more"></span>



<p>[root@iZ2ze82v6un2qb4pu22ug1Z BiliHelper-personal]# php -r “copy(‘<a href="https://install.phpcomposer.com/installer&#39;">https://install.phpcomposer.com/installer&#39;</a>, ‘composer-setup.php’);”<br>PHP Warning:  copy(): SSL operation failed with code 1. OpenSSL Error messages:<br>error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed in Command line code on line 1</p>
<p>Warning: copy(): SSL operation failed with code 1. OpenSSL Error messages:<br>error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed in Command line code on line 1<br>PHP Warning:  copy(): Failed to enable crypto in Command line code on line 1</p>
<p>Warning: copy(): Failed to enable crypto in Command line code on line 1<br>PHP Warning:  copy(<a href="https://install.phpcomposer.com/installer">https://install.phpcomposer.com/installer</a>): Failed to open stream: operation failed in Command line code on line 1</p>
<p>Warning: copy(<a href="https://install.phpcomposer.com/installer">https://install.phpcomposer.com/installer</a>): Failed to open stream: operation failed in Command line code on line 1</p>
<p>应该是CA证书验证失败造成的错误</p>
<h3 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h3><p>下载个CA证书</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget http://curl.haxx.se/ca/cacert.pem</span><br></pre></td></tr></table></figure>

<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211160551418.png" alt="image-20211211160551418"></p>
<p>报错：</p>
<p>[root@iZ2ze82v6un2qb4pu22ug1Z ~]# wget <a href="http://curl.haxx.se/ca/cacert.pem">http://curl.haxx.se/ca/cacert.pem</a><br>–2021-12-11 15:50:51–  <a href="http://curl.haxx.se/ca/cacert.pem">http://curl.haxx.se/ca/cacert.pem</a><br>Resolving curl.haxx.se (curl.haxx.se)… 151.101.74.49, 2a04:4e42:11::561<br>Connecting to curl.haxx.se (curl.haxx.se)|151.101.74.49|:80… connected.<br>HTTP request sent, awaiting response… 301 Moved Permanently<br>Location: <a href="https://curl.haxx.se/ca/cacert.pem">https://curl.haxx.se/ca/cacert.pem</a> [following]<br>–2021-12-11 15:50:53–  <a href="https://curl.haxx.se/ca/cacert.pem">https://curl.haxx.se/ca/cacert.pem</a><br>Connecting to curl.haxx.se (curl.haxx.se)|151.101.74.49|:443… connected.<br>HTTP request sent, awaiting response… 301 Moved Permanently<br>Location: <a href="https://curl.se/ca/cacert.pem">https://curl.se/ca/cacert.pem</a> [following]<br>–2021-12-11 15:50:54–  <a href="https://curl.se/ca/cacert.pem">https://curl.se/ca/cacert.pem</a><br>Resolving curl.se (curl.se)… 151.101.130.49, 151.101.194.49, 151.101.2.49, …<br>Connecting to curl.se (curl.se)|151.101.130.49|:443… connected.<br>ERROR: cannot verify curl.se’s certificate, issued by ‘/C=US/O=Let’s Encrypt/CN=R3’:<br>  Issued certificate has expired.<br>To connect to curl.se insecurely, use `–no-check-certificate’.</p>
<p>好！！！证书下载失败，牛皮。</p>
<p>使用网页下载再上传至linux服务器，结果网页都打不开，下载不下来。</p>
<p>我直接挂梯子下载成功~</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir -p /usr/local/openssl/ssl/certs/ </span><br><span class="line">mv cacert.pem /usr/local/openssl/ssl/certs/cacert.pem</span><br></pre></td></tr></table></figure>

<img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211155655637.png" alt="image-20211211155655637" style="zoom:67%;" />



<p>编辑php.ini（路径 /www/server/php/80/etc php.ini），修改cafile路径，保存</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211161139182.png" alt="image-20211211161139182"></p>
<p>彳亍，可以安装<strong>composer</strong>了</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211211162811233.png" alt="image-20211211162811233"></p>
]]></content>
      <categories>
        <category>实用教程</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>云盘变本地硬盘</title>
    <url>/2021/12/13/21121301/</url>
    <content><![CDATA[<p>今天带来的是一个好用的工具 **<u><em>CloudDrive</em></u>**，可以把你的阿里云盘和天翼云盘的内容映射到本地盘符，方便的使用。<br>功能：快捷访问云盘文件、使用第三方播放器播放视频、文件重命名、全局下载带宽控制<br>本地上传、本地下载、115秒传迁移到阿里云盘、网络盘、本地盘互换等</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211213180843830.png" alt="image-20211213180843830"></p>
<span id="more"></span>



<p><a href="https://www.aliyundrive.com/s/wLQfjyVMUq3">软件下载链接</a>  </p>
<p>☝更多功能详情与问题答疑也请访问上述连接</p>
<p>简体中文安装</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211213145638398.png" alt="image-20211213145638398"></p>
<p>安装软件后打不开，如上图报错的话，直接浏览器访问localhost:9798</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211213183037460.png" alt="image-20211213183037460"></p>
<p>localhost:9798拒绝访问的话，就是服务没有启动，打开安装目录下的clouddriveservice.EXE即可</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211213160642846.png" alt="image-20211213160642846"></p>
<p>.</p>
<p>注册登录（注册的是这个CloudDrive应用，不是网盘。）</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211213160924281.png" alt="image-20211213160924281"></p>
<p>手机阿里云盘扫码登录后进行挂载，也支持115，天翼云盘等~</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211213161824286.png" alt="image-20211213161824286"></p>
<p>挂载点任意，不要跟已有冲突就行，挂载类型可选本地盘/网络盘</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211213161936760.png" alt="image-20211213161936760"></p>
<p>起飞~</p>
<p>本地盘</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211213162109142.png" alt="image-20211213162109142"></p>
<p>网络盘</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211213182246132.png" alt="image-20211213182246132"></p>
<p>一开始我自定义安装在D盘，服务不能自启动，每次都要打开安装目录下的clouddriveservice.EXE，我重装默认安装位置后没有问题，反正不大放在C盘就放在C盘吧，配合CloudDrive控制器可以对服务进行开关。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20211213193124106.png" alt="image-20211213193124106"></p>
<p>注意:</p>
<ol>
<li><p>挂载的盘符可自行定制，但是—定要选—个，不然没得玩。</p>
</li>
<li><p>本地计算机打开文件夹可能会卡顿，这是正常现象，跟网络和缓存有关系。</p>
</li>
<li><p>因为挂的是网络磁盘，所以服务没开没得用，没得网就没得用。</p>
</li>
<li><p>可以使用本地播放器播放云盘的视频资源，目前网络带宽一般不会卡顿。</p>
</li>
<li><p>不适合用来打游戏或者在线编辑文档（为了防止文件丢失记得做好备份）。</p>
</li>
</ol>
]]></content>
      <categories>
        <category>实用工具</category>
      </categories>
      <tags>
        <tag>CloudDrive</tag>
      </tags>
  </entry>
  <entry>
    <title>召唤神龙</title>
    <url>/2022/01/03/22010301/</url>
    <content><![CDATA[<p>​    《召唤神龙》又名《玩出心脏病看我讹不讹你就完了》《关于我完了半个小时被王八吃掉的故事》《十面埋伏》《今天你就别想召唤神龙》《重生之王八遇到蛟》《关于我一波三折成鲸之后又变回这件事儿》《别高兴太早》《小鲤鱼历险记》《阴险青鱼》《怨种王八》《永恒青蛙》《迷失》《升级消失鳗》《十面埋伏》《今天你就别想召唤神龙》《重生之王八遇到蛟》《关于我一波三折成鲸之后又变回蝌蚪这件事儿》。</p>
<p>​    游戏没有畅快淋漓的打击感，也没有制霸天下快感，而是“游戏虐我千百遍,我待游戏如初恋”的生死纠葛。欢迎分享给身边的朋友可以治疗低血压哦~</p>
<span id="more"></span>

<p><strong><u><em>可以横屏，竖屏。建议横屏（手机设置自动旋转然后横着手机就行）</em></u></strong></p>
<p>演示站：<a href="http://games.qyxie.top/ShenLong/">http://games.qyxie.top/ShenLong/</a></p>
<p>安装包：<a href="http://bt.qyxie.top:2333/down/KEB2V2n1iWXZ">http://bt.qyxie.top:2333/down/KEB2V2n1iWXZ</a>    上传至服务器就可以使用~</p>
<ol>
<li><p>这是一款非常有意思的小游戏，玩法类似大鱼吃小鱼。    </p>
</li>
<li><p>游戏带来了非常休闲而有趣的气氛，随时都可以打开游戏玩，畅享游戏带来的“快乐”。</p>
</li>
</ol>
<p>升级的顺序为蝌蚪——青蛙——乌龟——金鱼——锦鲤——电鳗——小鲨鱼——大鲸鱼——青蛟，最终集齐三只青蛟召唤出神龙。</p>
<p><img src="https://qyxie-blog.oss-cn-beijing.aliyuncs.com/img/image-20220103001907115.png" alt="image-20220103001907115"></p>
<p>你学会了吗<del>那就开始召唤神龙吧</del></p>
]]></content>
      <categories>
        <category>休闲娱乐</category>
      </categories>
      <tags>
        <tag>游戏</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2021/07/17/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<span id="more"></span>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hello World</tag>
      </tags>
  </entry>
</search>
